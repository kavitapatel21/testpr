/*!
 * 
 * Intro Tour Tutorial
 * 
 * @author [object Object]
 * @version 5.4.1
 * @link http://www.gnu.org/licenses/gpl-2.0.txt
 * @license GPL-2.0+
 * 
 * Copyright (c) 2023 [object Object]
 * 
 * This plugin is released under GPL-2.0+ license to be included in wordpres.org plugin repository
 * 
 * Compiled with the help of https://wpack.io
 * A zero setup Webpack Bundler Script for WordPress
 */
(window.wpackiodpIntroToursmainJsonp=window.wpackiodpIntroToursmainJsonp||[]).push([[22],{0:function(t,e,i){"use strict";i.d(e,"a",(function(){return r}));var o=i(19);function r(t,e,i){return(e=Object(o.a)(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}},11:function(t,e,i){"use strict";i.d(e,"a",(function(){return n}));var o=i(14);var r=i(21);function n(t){return function(t){if(Array.isArray(t))return Object(o.a)(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||Object(r.a)(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},12:function(t,e,i){var o,r,n,a=i(13);n=function(){function t(t){var e=[];if(0===t.length)return"";if("string"!=typeof t[0])throw new TypeError("Url must be a string. Received "+t[0]);if(t[0].match(/^[^/:]+:\/*$/)&&t.length>1){var i=t.shift();t[0]=i+t[0]}t[0].match(/^file:\/\/\//)?t[0]=t[0].replace(/^([^/:]+):\/*/,"$1:///"):t[0]=t[0].replace(/^([^/:]+):\/*/,"$1://");for(var o=0;o<t.length;o++){var r=t[o];if("string"!=typeof r)throw new TypeError("Url must be a string. Received "+r);""!==r&&(o>0&&(r=r.replace(/^[\/]+/,"")),r=o<t.length-1?r.replace(/[\/]+$/,""):r.replace(/[\/]+$/,"/"),e.push(r))}var n=e.join("/"),a=(n=n.replace(/\/(\?|&|#[^!])/g,"$1")).split("?");return n=a.shift()+(a.length>0?"?":"")+a.join("&")}return function(){return t("object"===a(arguments[0])?arguments[0]:[].slice.call(arguments))}},t.exports?t.exports=n():void 0===(r="function"==typeof(o=n)?o.call(e,i,e,t):o)||(t.exports=r)},13:function(t,e){function i(e){return t.exports=i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t.exports.__esModule=!0,t.exports.default=t.exports,i(e)}t.exports=i,t.exports.__esModule=!0,t.exports.default=t.exports},131:function(t,e,i){i(15),t.exports=i(132)},132:function(t,e,i){"use strict";i.r(e);var o=i(40),r=i(31);i(17).a.init(window.dpIntroTourPublicConfig.dpDebugEn),jQuery(window).on("load",(function(){window.$=jQuery,window.dpIntroTourPublicConfig.dpDebugEn&&console.log("FREE config:",window.dpIntroTourPublicConfig),r.a.processVisit(window.dpIntroTourPublicConfig),window.dpIntroTourPublicConfig.tours&&window.dpIntroTourPublicConfig.tours.length&&window.dpIntroTourPublicConfig.tours.forEach((function(t){new o.a(window.dpIntroTourPublicConfig,t)}))}))},14:function(t,e,i){"use strict";function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,o=new Array(e);i<e;i++)o[i]=t[i];return o}i.d(e,"a",(function(){return o}))},15:function(t,e,i){var o="dpIntroToursdist".replace(/[^a-zA-Z0-9_-]/g,"");i.p=window["__wpackIo".concat(o)]},16:function(t,e,i){"use strict";i.d(e,"a",(function(){return u}));var o=i(11),r=i(3),n=i(2),a=i(0),s=i(10),l=i.n(s),u=function(){function t(e){Object(r.a)(this,t),e.dpDebugEn&&console.log("DPColors")}return Object(n.a)(t,null,[{key:"getContrastColor",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:["#fff","#484848"],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:3,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:["#292929"],n=[];return i.forEach((function(e){var i=l()(e);n.push({color:i,contrast:l()(t).contrast(i)})})),n.length?(n[0].contrast*=e?2.2:1.5,n.sort((function(t,e){return e.contrast-t.contrast})),n[0].contrast<o&&(r.forEach((function(e){var i=l()(e);n.push({color:i,contrast:l()(t).contrast(i)})})),n.sort((function(t,e){return e.contrast-t.contrast}))),n[0].color):i[0]?l()(i[0]):r[0]?l()(r[0]):l()("#fff")}},{key:"getMostColor",value:function(e,i){var r=null;if(e){var n=Object(o.a)(e);n.sort((function(e,o){return t.compareColorsByRgbHue(i,e,o)})),r=n[0]}return r}}]),t}();Object(a.a)(u,"getRgbHueFeature",(function(t,e){switch(t){case"r":return e.red()+(e.red()-e.green())+(e.red()-e.blue());case"g":return e.green()+(e.green()-e.red())+(e.green()-e.blue());case"b":return e.blue()+(e.blue()-e.red())+(e.blue()-e.green())}})),Object(a.a)(u,"getRgbHueAdjustedColor",(function(t,e){switch(t){case"r":return l.a.rgb(Math.min(e.red()+100,255),Math.max(e.green()-100,0),Math.max(e.blue()-100,0));case"g":return l.a.rgb(Math.max(e.red()-100,0),Math.min(e.green()+100,255),Math.max(e.blue()-100,0));case"b":return l.a.rgb(Math.max(e.red()-100,0),Math.max(e.green()-100,0),Math.min(e.blue()+100,255))}})),Object(a.a)(u,"compareColorsByRgbHue",(function(t,e,i){return u.getRgbHueFeature(t,i)-u.getRgbHueFeature(t,e)}))},17:function(t,e,i){"use strict";window.DpitHooks||(window.DpitHooks={}),DpitHooks.actions=DpitHooks.actions||{},DpitHooks.filters=DpitHooks.filters||{},DpitHooks.init=function(t){DpitHooks.dpDebugEn=t,t&&console.log("DpitHooks.init")},DpitHooks.addAction=function(t,e,i){void 0===i&&(i=10),DpitHooks.actions[t]=DpitHooks.actions[t]||[],DpitHooks.actions[t].push({priority:i,callback:e})},DpitHooks.addFilter=function(t,e,i){void 0===i&&(i=10),DpitHooks.filters[t]=DpitHooks.filters[t]||[],DpitHooks.filters[t].push({priority:i,callback:e})},DpitHooks.removeAction=function(t,e){DpitHooks.actions[t]=DpitHooks.actions[t]||[],DpitHooks.actions[t].forEach((function(i,o){i.callback===e&&DpitHooks.actions[t].splice(o,1)}))},DpitHooks.removeFilter=function(t,e){DpitHooks.filters[t]=DpitHooks.filters[t]||[],DpitHooks.filters[t].forEach((function(i,o){i.callback===e&&DpitHooks.filters[t].splice(o,1)}))},DpitHooks.doAction=function(t,e){var i=[];DpitHooks.dpDebugEn&&console.log("API action - Tag:",t,", Subscribed count:",DpitHooks.actions[t]?DpitHooks.actions[t].length:0,", Args:",e),void 0!==DpitHooks.actions[t]&&DpitHooks.actions[t].length>0&&(DpitHooks.actions[t].forEach((function(t){i[t.priority]=i[t.priority]||[],i[t.priority].push(t.callback)})),i.forEach((function(t){t.forEach((function(t){t(e)}))})))},DpitHooks.applyFilters=function(t,e,i){var o=[],r=e;return DpitHooks.dpDebugEn&&console.log("API filter - Tag:",t,", Subscribed count:",DpitHooks.filters[t]?DpitHooks.filters[t].length:0,", Args:",i),void 0!==DpitHooks.filters[t]&&DpitHooks.filters[t].length>0&&(DpitHooks.filters[t].forEach((function(t){o[t.priority]=o[t.priority]||[],o[t.priority].push(t.callback)})),o.forEach((function(t){t.forEach((function(t){r=t(r,i)}))}))),r},e.a=DpitHooks},18:function(t,e,i){"use strict";var o=i(13);t.exports=function(t,e,i){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if("string"!=typeof t)throw new TypeError("Expected input to be a string, got ".concat(o(t)));if(!("string"==typeof e&&e.length>0)||"string"!=typeof i&&"function"!=typeof i)return t;var n="",a=0,s=r.fromIndex>0?r.fromIndex:0;if(s>t.length)return t;for(;;){var l=r.caseInsensitive?t.toLowerCase().indexOf(e.toLowerCase(),s):t.indexOf(e,s);if(-1===l)break;a++;var u="string"==typeof i?i:i(t.slice(l,l+e.length),a,t,l),c=1===a?0:s;n+=t.slice(c,l)+u,s=l+e.length}return 0===a?t:n+t.slice(s)}},19:function(t,e,i){"use strict";i.d(e,"a",(function(){return r}));var o=i(9);function r(t){var e=function(t,e){if("object"!==Object(o.a)(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var r=i.call(t,e||"default");if("object"!==Object(o.a)(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Object(o.a)(e)?e:String(e)}},2:function(t,e,i){"use strict";i.d(e,"a",(function(){return n}));var o=i(19);function r(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Object(o.a)(r.key),r)}}function n(t,e,i){return e&&r(t.prototype,e),i&&r(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}},20:function(t,e,i){"use strict";i.d(e,"a",(function(){return n}));var o=i(3),r=i(2),n=function(){function t(e,i,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:10,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:100;Object(o.a)(this,t),this.containerSelector=e,this.bulletsClasses=r,this.id=i,this.count=n,this.clockPeriodMs=a}return Object(r.a)(t,[{key:"createAndRun",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.backward=t;var i=$(e||this.containerSelector);if(i&&i.length){var o=i.find("#".concat(this.id));if(o&&o.length)o.removeClass("inactive");else{var r=this.createBullets(this.count);i[0].appendChild(r)}t?this.startReloadingSpinnerBack():this.startReloadingSpinner()}}},{key:"createBullets",value:function(t){var e=document.createElement("div");$(e).addClass(this.bulletsClasses.join(" ")),$(e).attr("aria-hidden","true"),e.id=this.id,e.style.opacity=0,e.style.display="block";for(var i=document.createElement("ul"),o=0;o<t;o++){var r=document.createElement("li");i.appendChild(r)}return e.appendChild(i),e.style.opacity=1,e}},{key:"activateBullet",value:function(t){$("#".concat(this.id," li")).removeClass("active"),$("#".concat(this.id," li")).removeClass("semi-active"),$("#".concat(this.id," li")).removeClass("semi-active--2"),this.backward?(t>=0&&t<this.count&&$("#".concat(this.id," li:nth-child(").concat(t+1,")")).addClass("semi-active semi-active--2"),t-1>=0&&t-1<this.count&&$("#".concat(this.id," li:nth-child(").concat(t,")")).addClass("semi-active"),t-2>=0&&t-2<this.count&&$("#".concat(this.id," li:nth-child(").concat(t-1,")")).addClass("active")):(t>=0&&t<this.count&&$("#".concat(this.id," li:nth-child(").concat(t+1,")")).addClass("active"),t-1>=0&&t-1<this.count&&$("#".concat(this.id," li:nth-child(").concat(t,")")).addClass("semi-active"),t-2>=0&&t-2<this.count&&$("#".concat(this.id," li:nth-child(").concat(t-1,")")).addClass("semi-active semi-active--2"))}},{key:"destroy",value:function(){$("#".concat(this.id)).addClass("inactive"),$("#".concat(this.id," li")).removeClass("active"),$("#".concat(this.id," li")).removeClass("semi-active"),this.stopReloadSpinner()}},{key:"stopReloadSpinner",value:function(){this.spinnerInterval&&clearInterval(this.spinnerInterval),this.spinnerInterval=null}},{key:"startReloadingSpinner",value:function(){var t=this,e=0;this.spinnerInterval&&clearInterval(this.spinnerInterval),this.bulletHideTimeout&&clearTimeout(this.bulletHideTimeout),this.spinnerInterval=setInterval((function(){t.activateBullet(e),++e>Math.round(2.2*t.count)&&(e=0)}),this.clockPeriodMs)}},{key:"startReloadingSpinnerBack",value:function(){var t=this;this.spinnerInterval&&clearInterval(this.spinnerInterval),this.bulletHideTimeout&&clearTimeout(this.bulletHideTimeout);var e=this.count+2;this.spinnerInterval=setInterval((function(){t.activateBullet(e),--e<0&&(e=Math.round(2.2*t.count))}),this.clockPeriodMs)}}]),t}()},21:function(t,e,i){"use strict";i.d(e,"a",(function(){return r}));var o=i(14);function r(t,e){if(t){if("string"==typeof t)return Object(o.a)(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?Object(o.a)(t,e):void 0}}},24:function(t,e){(function(e){t.exports=e}).call(this,{})},3:function(t,e,i){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i.d(e,"a",(function(){return o}))},31:function(t,e,i){"use strict";i.d(e,"a",(function(){return a}));var o=i(3),r=i(2),n=i(8),a=function(){function t(){Object(o.a)(this,t)}return Object(r.a)(t,null,[{key:"processVisit",value:function(e){t._processVisit(e,"dp_intro_tours.visited_urls")}},{key:"_processVisit",value:function(e,i){var o=t._getVisitCount(i);o.obj[o.url]=o.count+1,e.dpDebugEn&&console.log("DPUserVisitCounter",o.url,o.count+1),localStorage.setItem(i,JSON.stringify(o.obj))}},{key:"_getVisitCount",value:function(t){var e=new URL(window.location),i=n.a.unifyUrl(e.pathname),o=localStorage.getItem(t),r={};if(o&&isNaN(o))try{r=JSON.parse(o)||{}}catch(t){console.error(t)}var a=parseInt(r[i]);return isNaN(a)&&(a=0),{count:a,obj:r,url:i}}},{key:"getVisitCount",value:function(e){if(0!=e.currentUserId){var i=parseInt(e.loggedInVisitCnt);return isNaN(i)?0:i}return t._getVisitCount("dp_intro_tours.visited_urls").count}}]),t}()},4:function(t,e,i){"use strict";i.d(e,"a",(function(){return a})),i.d(e,"k",(function(){return s})),i.d(e,"j",(function(){return l})),i.d(e,"e",(function(){return u})),i.d(e,"h",(function(){return c})),i.d(e,"i",(function(){return h})),i.d(e,"l",(function(){return d})),i.d(e,"b",(function(){return p})),i.d(e,"g",(function(){return g})),i.d(e,"d",(function(){return f})),i.d(e,"c",(function(){return b})),i.d(e,"f",(function(){return v}));var o=i(5),r=i.n(o),n=i(6),a=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;try{return $(t)}catch(t){return e}},s=function(){try{return"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0}catch(t){return!1}},l=function(t,e){return e[t]?e[t]:t},u=function(t){var e=$("body").prop("clientWidth"),i=$("body").prop("clientHeight");return i+=0,n.a.actualizeBottomAndRight({top:0,left:0,width:e,height:i})},c=function(t){var e=$(window).innerWidth(),i=$(window).innerHeight();return i+=0,n.a.actualizeBottomAndRight({top:0,left:0,width:e,height:i})},h=function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];t&&$(t).addClass(r()({"dpit-hidden":!0,"dpit-hidden-by-disp":!e,"dpit-hidden--no-space":i}))},d=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";t&&(null!==e&&!0!==e&&$(t).css("opacity",e),$(t).removeClass("dpit-hidden dpit-hidden--no-space dpit-hidden-by-disp dpit-hidden-by-opacity"))},p=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return"calc(var(--dp-z-index-base) + ".concat(t,")")},g=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(t){var i=window.getComputedStyle(t);if(i&&i.transitionDuration){var o=parseFloat(i.transitionDuration);if(!isNaN(o))return i.transitionDuration.endsWith("ms")?o:i.transitionDuration.endsWith("s")?1e3*o:o}}return e},f=function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=i;if(t&&e){var r=getComputedStyle(t).getPropertyValue(e);null!=r&&""!==r&&(o=r)}return o},b=function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=i;return t&&e&&(o=parseFloat($(t).css(e)),isNaN(o)&&(o=i)),o},v=function(t){switch(t){case"left":return"right";case"right":return"left";case"top":return"bottom";case"bottom":return"top"}return t}},40:function(t,e,i){"use strict";i.d(e,"a",(function(){return S}));var o=i(3),r=i(2),n=i(0),a=i(7),s=i(20),l=i(4),u=function(){function t(){Object(o.a)(this,t)}return Object(r.a)(t,null,[{key:"vHFix",value:function(t){var e=.01*window.innerHeight;t.style.setProperty("--dpit-vh","".concat(e,"px"))}},{key:"isIE",value:function(){var t=window.navigator.userAgent,e=t.indexOf("MSIE "),i=t.indexOf("Trident/");return e>0||i>0}}]),t}();Object(n.a)(u,"isSupported",(function(){var t=!u.isIE();return t||console.log("DP Intro Tours: Browser is not supported"),t}));var c=i(10),h=i.n(c),d=i(16),p=i(8),g=i(31),f=i(5),b=i.n(f),v=i(17);function m(t,e){var i="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=function(t,e){if(!t)return;if("string"==typeof t)return y(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return y(t,e)}(t))||e&&t&&"number"==typeof t.length){i&&(t=i);var o=0,r=function(){};return{s:r,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,a=!0,s=!1;return{s:function(){i=i.call(t)},n:function(){var t=i.next();return a=t.done,t},e:function(t){s=!0,n=t},f:function(){try{a||null==i.return||i.return()}finally{if(s)throw n}}}}function y(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,o=new Array(e);i<e;i++)o[i]=t[i];return o}function B(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,o)}return i}function w(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?B(Object(i),!0).forEach((function(e){Object(n.a)(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):B(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var S=function(){function t(e,i){var r=this;Object(o.a)(this,t),Object(n.a)(this,"onResizeWrap",(function(){r.onResize()})),Object(n.a)(this,"onExitWrap",(function(t){r.onExit(t.reason)})),e.dpDebugEn&&(console.log("DPIntroTour"),console.log("jQuery v: "+jQuery.fn.jquery)),this.tourCfg=i,this.mainCfg=e,this.tourId=null,this.tourCfg&&(this.tourCfg.text_styles=w(w({},this.mainCfg.text_styles),this.tourCfg.text_styles),this.tourId=this.tourCfg.tourId),this.currentUrl=new URL(window.location),this.hookOptions={tourId:this.tourId,currentUrl:this.currentUrl},this.startStep=this.getDpUrlParam("dp_qp_step"),this.shouldInitialize()&&(this.initWrapperLayer(),this.initBulletsAnimation(),this.tourCfg&&(this.updateTheme(),this.initTriggers(),this.initCore(),this.initTour()))}return Object(r.a)(t,[{key:"shouldInitialize",value:function(){var t=v.a.applyFilters("shouldInit",!0,this.hookOptions),e="1"===this.currentUrl.searchParams.get("et_fb"),i="true"===this.currentUrl.searchParams.get("ct_builder");return!(e||i)&&u.isSupported()&&t}},{key:"getDpUrlParam",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return p.a.getDpUrlParam(t,this.mainCfg.queryParamsDefs,this.currentUrl,e)}},{key:"initBulletsAnimation",value:function(){this.bulletsAnimation=new s.a("."+a.c.overlayContainer,"".concat(a.c.rbAnim,"-").concat(this.tourId),[a.c.rbAnim],7,90)}},{key:"initTriggers",value:function(){var t=this;this.triggers=[],this.tourCfg.triggers.forEach((function(e,i){t.triggers.push({idx:i,config:e,jElement:"window"===e.selector?$(window):Object(l.a)(e.selector),isInRun:!1,wasRunInThisSession:!1})})),this.activeTriggerIdx=0}},{key:"initRootWrapper",value:function(){this.dpIntroWrapper||(this.dpIntroWrapper=document.createElement("div")),$(this.dpIntroWrapper).addClass(a.c.wrapper);var t=this.getTourIdPostfix(a.c.wrapper);$(this.dpIntroWrapper).addClass(t),$(this.dpIntroWrapper).attr("id",t)}},{key:"initWrapperLayer",value:function(){this.dpIntroWrapper=document.createElement("div"),this.initRootWrapper(),document.body.appendChild(this.dpIntroWrapper),this.dpIntroMain=document.createElement("div"),$(this.dpIntroMain).addClass(a.c.main),this.dpIntroWrapper.appendChild(this.dpIntroMain),this.onResize()}},{key:"onResize",value:function(){var t,e,i;u.vHFix(this.dpIntroWrapper),p.a.setMobileSizeCoef(this.dpIntroWrapper,null===(t=this.tourCfg)||void 0===t?void 0:t.text_styles,null===(e=this.mainCfg)||void 0===e||null===(i=e.mobile_break_points)||void 0===i?void 0:i.mobile),this.adjustBulletsAnimationSizeVar()}},{key:"isMobileSize",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=this.mainCfg.mobile_break_points?this.mainCfg.mobile_break_points.mobile:500;null!==t&&(e=t);var i=Object(l.h)(e);return i.width<=e}},{key:"isOnLoadTrigger",value:function(t){return"load"==t.config.on||this.shouldAlwaysRunOnLoad()}},{key:"isOnLoadDisabled",value:function(t){return!1}},{key:"shouldAlwaysRunOnLoad",value:function(){return"1"===this.getDpUrlParam("dp_qp_run_always_on_load")}},{key:"shouldRunAtCurrentDevice",value:function(){return!0}},{key:"initTourWithSelectedTrigger",value:function(t){var e,i,o,r,n=this,a=!0,s=g.a.getVisitCount(this.mainCfg);t.config.first_user_visit_only&&(a=s<=(t.config.first_n_user_visit||1));if(t.config.allow_just_for_logged_in_users&&0==this.mainCfg.currentUserId&&(a=!1),null!==(e=t.config)&&void 0!==e&&null!==(i=e.disable_for_roles)&&void 0!==i&&i.length&&this.mainCfg.currentUserRoles&&null!==(o=this.mainCfg)&&void 0!==o&&null!==(r=o.currentUserRoles)&&void 0!==r&&r.length){var l,u=m(t.config.disable_for_roles);try{for(u.s();!(l=u.n()).done;){var c=l.value;if(this.mainCfg.currentUserRoles.includes(c)){a=!1;break}}}catch(t){u.e(t)}finally{u.f()}}this.shouldRunAtCurrentDevice(t)||(a=!1),(a||this.shouldAlwaysRunOnLoad())&&(this.isOnLoadTrigger(t)&&!this.isOnLoadDisabled(t)?this.startTourWithAnimation(t,this.startStep):t.config.once_per_session_only&&t.wasRunInThisSession||setTimeout((function(){n.activateTrigger(t)}),300))}},{key:"initTour",value:function(){var t=this;this.triggers.forEach((function(e){t.initTourWithSelectedTrigger(e)}))}},{key:"activateTrigger",value:function(t){var e=this;this.isOnLoadTrigger(t)||t.jElement.on(t.config.on,(function(i){var o=!0;t.config.specific_key_pressed&&i&&("keydown"!==t.config.on&&"keypress"!==t.config.on&&"keyup"!==t.config.on||(o=t.config.specific_key_pressed==i.keyCode)),o&&e.startTour(t)&&i&&(i.preventDefault(),i.stopPropagation())}))}},{key:"createCoreInstance",value:function(){return new a.d(this.dpIntroMain,this.mainCfg,this.tourId)}},{key:"afterIntroCoreInit",value:function(){}},{key:"initCore",value:function(){this.core=this.createCoreInstance(),this.steps=this.initPreprocessSteps(),this.afterIntroCoreInit(),this.mainCfg.dpDebugEn&&console.log("ROW STEPS",this.steps),this.steps&&this.isStepsEnough2Start()&&this.core.setOptions(this.getIntroCoreOptions()),this.checkStickyTheme()}},{key:"checkStickyTheme",value:function(){this.core&&(this.core.isStickyTheme()?($(this.dpIntroWrapper).addClass(a.c.isStickyTheme),this.core.setOption("showProgress",!0)):($(this.dpIntroWrapper).removeClass(a.c.isStickyTheme),this.core.setOption("showProgress",this.tourCfg.behaviour.show_progress_bar)),this.core.actualizeTooltipMaxWidth())}},{key:"initPreprocessSteps",value:function(){var t=this,e=$.parseJSON(this.tourCfg.steps);return e&&(e=e.map((function(e){var i={};return Object.keys(e).forEach((function(o){i[o]=p.a.decodeStepParamAdvancedVal(e[o],o,t.mainCfg.stepDefinitions,!0,!0)})),i}))),e}},{key:"getIntroCoreOptions",value:function(){return w({steps:this.steps,scrollToElement:!0,scrollTo:"all",enable_interaction:"0",showStepNumbers:this.tourCfg.behaviour.show_step_numbers,showProgress:this.tourCfg.behaviour.show_progress_bar,showBullets:this.tourCfg.behaviour.show_bullet_navigation,labeling:this.tourCfg.labeling,nextLabel:this.tourCfg.labeling.nextLabel||Object(l.j)("next",this.mainCfg.i18n),prevLabel:this.tourCfg.labeling.prevLabel||Object(l.j)("back",this.mainCfg.i18n),skipLabel:this.tourCfg.labeling.skipLabel||Object(l.j)("skip",this.mainCfg.i18n),doneLabel:this.tourCfg.labeling.doneLabel||Object(l.j)("done",this.mainCfg.i18n),exitOnOverlayClick:this.tourCfg.behaviour.exitOnOverlayClick,hide_previous_step_button:this.tourCfg.behaviour.hide_previous_step_button,hideNextAlways:this.tourCfg.behaviour.hideNextAlways,hide_skip_button:this.tourCfg.behaviour.hide_skip_button,overlayBlurred:this.tourCfg.behaviour.overlayBlurred,disable_navigation_by_bullets:this.tourCfg.behaviour.disable_navigation_by_bullets,max_tooltip_width:this.tourCfg.behaviour.max_tooltip_width,skip_absent_ref_el:this.tourCfg.behaviour.skip_absent_ref_el,customTextStylesEn:!$.isEmptyObject(this.mainCfg.text_styles)},this._getScrollSpeed(this.tourCfg.behaviour.scrollSpeed))}},{key:"_getScrollSpeed",value:function(t){var e=Math.max(Math.min(t,100),0),i=100===e?0:.0802*Math.pow(e,2)-18.01*e+1e3;return{scrollSpeedPerPageMs:i,maxScrollSpeedPerPageMs:3*i}}},{key:"setInRunClasses",value:function(){var t,e;$(this.dpIntroWrapper).parent().addClass(a.c.relativePosition),$(this.dpIntroWrapper).addClass(a.c.tourInRun),$(document.documentElement).addClass(b()((e={},Object(n.a)(e,a.c.tourInRun,!0),Object(n.a)(e,this.getTourIdPostfix(),!0),Object(n.a)(e,a.c.builderInRun,null===(t=this.core)||void 0===t?void 0:t.isBuilder),Object(n.a)(e,"dpit-theme-"+this.tourCfg.theme,this.tourCfg.theme),e)))}},{key:"clearInRunClasses",value:function(){var t;$(this.dpIntroWrapper).parent().removeClass(a.c.relativePosition),$(this.dpIntroWrapper).removeClass(a.c.tourInRun),$(document.documentElement).removeClass(b()((t={},Object(n.a)(t,a.c.tourInRun,!0),Object(n.a)(t,this.getTourIdPostfix(),!0),Object(n.a)(t,a.c.builderInRun,!0),Object(n.a)(t,"dpit-theme-"+this.tourCfg.theme,this.tourCfg.theme),t)))}},{key:"getTourIdPostfix",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.c.tourInRun;return"".concat(t,"-").concat(this.tourId)}},{key:"isStepsEnough2Start",value:function(){return this.steps.length>0}},{key:"updateTheme",value:function(){var t,e,i;this.initRootWrapper(),this.tourCfg&&this.tourCfg.theme&&$(this.dpIntroWrapper).addClass(this.tourCfg.theme),this.setAccentColor(this.tourCfg.accentColor),this.setRadiuses(this.tourCfg),p.a.setTextStyles(this.dpIntroWrapper,null===(t=this.tourCfg)||void 0===t?void 0:t.text_styles,null===(e=this.mainCfg)||void 0===e||null===(i=e.mobile_break_points)||void 0===i?void 0:i.mobile),this.checkStickyTheme()}},{key:"setRadiuses",value:function(){this.tourCfg.tooltip_radius>=0&&this.dpIntroWrapper.style.setProperty("--tooltip-border-radius",this.tourCfg.tooltip_radius+"px"),this.tourCfg.highlight_radius>=0&&this.dpIntroWrapper.style.setProperty("--highlight-border-radius",this.tourCfg.highlight_radius+"px"),this.tourCfg.button_radius>=0&&(this.dpIntroWrapper.style.setProperty("--button-border-radius",this.tourCfg.button_radius+"px"),this.dpIntroWrapper.style.setProperty("--button-border-radius-sm",.3*this.tourCfg.button_radius+"px"))}},{key:"adjustBulletsAnimationSizeVar",value:function(){var t,e;if(null!==(t=this.tourCfg)&&void 0!==t&&null!==(e=t.behaviour)&&void 0!==e&&e.bulletAnimSize){var i=this.isMobileSize(600)?this.tourCfg.behaviour.bulletAnimSize/6:this.tourCfg.behaviour.bulletAnimSize/15;this.dpIntroWrapper.style.setProperty("--bullet-anim-size","".concat(i,"vw")),this.dpIntroWrapper.style.setProperty("--bullet-anim-gap","".concat(i/4,"vw")),this.dpIntroWrapper.style.setProperty("--bullet-anim-border-radius","".concat(this.tourCfg.behaviour.bulletAnimBorderRadius,"%"))}}},{key:"adjustContrastToOverlayVar",value:function(){this.tourCfg.behaviour.overlayBlurred&&(this.dpIntroWrapper.style.setProperty("--dpit-shadow-color","30, 30, 30"),this.dpIntroWrapper.style.setProperty("--dpit-shadow-alpha",.05))}},{key:"setAccentColor",value:function(t){var e,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(t||(t=this.tourCfg.accentColor),t){var o=h.a.rgb(t);if(o){$(document.documentElement).removeClass("dpit-light-accent"),this.currentAccentColor="".concat(o.red(),", ").concat(o.green(),", ").concat(o.blue()),this.dpIntroWrapper.style.setProperty("--accent-color",this.currentAccentColor);var r=d.a.getContrastColor(t,!1);if(r){r.isDark()&&$(document.documentElement).addClass("dpit-light-accent");var n=o.mix(r,.2);this.dpIntroWrapper.style.setProperty("--accent-color-gentle","".concat(n.red(),", ").concat(n.green(),", ").concat(n.blue())),this.dpIntroWrapper.style.setProperty("--accent-contrast-color","".concat(r.red(),", ").concat(r.green(),", ").concat(r.blue()));var a=d.a.getContrastColor(r,!1);a&&this.dpIntroWrapper.style.setProperty("--accent-contrast-inv-color","".concat(a.red(),", ").concat(a.green(),", ").concat(a.blue()))}}}else this.currentAccentColor="",this.dpIntroWrapper.style.removeProperty("--accent-color"),this.dpIntroWrapper.style.removeProperty("--accent-contrast-color");this.adjustContrastToOverlayVar(),this.adjustBulletsAnimationSizeVar(),i&&(null===(e=this.core)||void 0===e||e.actualizeAutoFocus())}},{key:"setAsRunningTour",value:function(){var t,e=this;this.core.isThisInRun()||(window.DpitApi||(window.DpitApi=(t={},Object(n.a)(t,a.a.goToNext,(function(){return e.core.goToNextStep()})),Object(n.a)(t,a.a.goToPrev,(function(){return e.core.goToPreviousStep()})),Object(n.a)(t,a.a.goToStep,(function(t){return e.core.goToStep(t)})),Object(n.a)(t,a.a.exit,(function(){return e.core._exitIntro("skip")})),Object(n.a)(t,a.a.setAccent,(function(t){return e.setAccentColor(t,!0)})),Object(n.a)(t,a.a.getScrollSpeed,(function(){var t,i;return null===(t=e.tourCfg)||void 0===t||null===(i=t.behaviour)||void 0===i?void 0:i.scrollSpeed})),Object(n.a)(t,a.a.setScrollSpeed,(function(t){return e.core.setOptions(e._getScrollSpeed(t))})),Object(n.a)(t,a.a.setCoreOptions,(function(t){return e.core.setOptions(t)})),t)),this.setInRunClasses(),this.core&&(this.core.subscribeEvent(a.b.ended,this.onExitWrap),this.core.subscribeEvent(a.b.onResize,this.onResizeWrap)))}},{key:"resetAsRunningTour",value:function(){this.clearInRunClasses(),window.DpitApi=null,this.core.unsubscribeEvent(a.b.ended,this.onExitWrap),this.core.unsubscribeEvent(a.b.onResize,this.onResizeWrap)}},{key:"startTourWithAnimation",value:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1100;this.tourCfg.behaviour.disableStartAnimation?this.startTour(t,i,o):this.isStepsEnough2Start()&&!this.core.isInRun()&&(this.hideElementsAtStart(),this.setAsRunningTour(),this.core.addOverlayLayer(!1,this.tourCfg.behaviour.overlayBlurred),this.bulletsAnimation.createAndRun(r,this.core.overlayContainer),setTimeout((function(){e.bulletsAnimation.destroy(),e.startTour(t,i,o,!0),e.adjustContrastToOverlayVar()}),n))}},{key:"startTour",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return!(!this.isStepsEnough2Start()||!o&&this.core.isInRun()||!i&&t.config.once_per_session_only&&t.wasRunInThisSession)&&(this.setAsRunningTour(),this.hideElementsAtStart(),t.isInRun=!0,this.core.start(e,this.isInitializedBackward()),this.mainCfg.dpDebugEn&&console.log("Starting tour: ",this.tourCfg.tourName+" ("+this.tourId+")"),t.wasRunInThisSession=!0,this.activeTriggerIdx=t.idx,!0)}},{key:"isInitializedBackward",value:function(){return!1}},{key:"hideElementsAtStart",value:function(){this.tourCfg.hideElementsAtStart&&(this._hideElementAtStart(),setTimeout(this._hideElementAtStart.bind(this),1e3))}},{key:"_hideElementAtStart",value:function(){var t=Object(l.a)(this.tourCfg.hideElementsAtStart);t&&t.length&&t.each((function(t,e){$(e).addClass("dpit-hidden-at-start").fadeOut(150)}))}},{key:"showHiddenElementsAtStart",value:function(){$(".dpit-hidden-at-start").fadeIn(150).removeClass("dpit-hidden-at-start")}},{key:"onExit",value:function(t){this.mainCfg.dpDebugEn&&console.log("Exiting tour: "+this.tourId+" - reason: "+t),this.showHiddenElementsAtStart(),this.triggers[this.activeTriggerIdx].isInRun=!1,this.resetAsRunningTour()}}]),t}()},45:function(t,e,i){"use strict";function o(t,e,i){return{r:255*i(t.r/255,e.r/255),g:255*i(t.g/255,e.g/255),b:255*i(t.b/255,e.b/255)}}function r(t,e){return e}function n(t,e){return t*e}function a(t,e){return t+e-t*e}function s(t,e){return d(e,t)}function l(t,e){return Math.min(t,e)}function u(t,e){return Math.min(Math.max(t,e),1)}function c(t,e){return 0===t?0:1===e?1:Math.min(1,t/(1-e))}function h(t,e){return 1===t?1:0===e?0:1-Math.min(1,(1-t)/e)}function d(t,e){return e<=.5?n(t,2*e):a(t,2*e-1)}function p(t,e){return e<=.5?t-(1-2*e)*t*(1-t):t+(2*e-1)*((t<=.25?((16*t-12)*t+4)*t:Math.sqrt(t))-t)}function g(t,e){return Math.abs(t-e)}function f(t,e){return t+e-2*t*e}function b(t,e,i){return Math.min(Math.max(t||0,e),i)}function v(t){return{r:b(t.r,0,255),g:b(t.g,0,255),b:b(t.b,0,255),a:b(t.a,0,1)}}function m(t){return{r:255*t.r,g:255*t.g,b:255*t.b,a:t.a}}function y(t){return{r:t.r/255,g:t.g/255,b:t.b/255,a:t.a}}function B(t,e){void 0===e&&(e=0);var i=Math.pow(10,e);return{r:Math.round(t.r*i)/i,g:Math.round(t.g*i)/i,b:Math.round(t.b*i)/i,a:t.a}}function w(t,e,i,o,r,n){return(1-e/i)*o+e/i*Math.round((1-t)*r+t*n)}function S(t,e,i,o,r){void 0===r&&(r={unitInput:!1,unitOutput:!1,roundOutput:!0}),r.unitInput&&(t=m(t),e=m(e)),t=v(t);var n=(e=v(e)).a+t.a-e.a*t.a,a=i(t,e,o),s=v({r:w(t.a,e.a,n,t.r,e.r,a.r),g:w(t.a,e.a,n,t.g,e.g,a.g),b:w(t.a,e.a,n,t.b,e.b,a.b),a:n});return s=r.unitOutput?y(s):r.roundOutput?B(s):function(t){return B(t,9)}(s)}function T(t,e,i){return m(i(y(t),y(e)))}function O(t){return.3*t.r+.59*t.g+.11*t.b}function k(t,e){var i=e-O(t);return function(t){var e=O(t),i=t.r,o=t.g,r=t.b,n=Math.min(i,o,r),a=Math.max(i,o,r);function s(t){return e+(t-e)*e/(e-n)}function l(t){return e+(t-e)*(1-e)/(a-e)}return n<0&&(i=s(i),o=s(o),r=s(r)),a>1&&(i=l(i),o=l(o),r=l(r)),{r:i,g:o,b:r}}({r:t.r+i,g:t.g+i,b:t.b+i})}function x(t){return Math.max(t.r,t.g,t.b)-Math.min(t.r,t.g,t.b)}function C(t,e){var i=["r","g","b"].sort((function(e,i){return t[e]-t[i]})),o=i[0],r=i[1],n=i[2],a={r:t.r,g:t.g,b:t.b};return a[n]>a[o]?(a[r]=(a[r]-a[o])*e/(a[n]-a[o]),a[n]=e):a[r]=a[n]=0,a[o]=0,a}function _(t,e){return k(C(e,x(t)),O(t))}function L(t,e){return k(C(t,x(e)),O(t))}function I(t,e){return k(e,O(t))}function P(t,e){return k(t,O(e))}function j(t,e){return S(t,e,o,r)}function E(t,e){return S(t,e,o,n)}function A(t,e){return S(t,e,o,a)}function $(t,e){return S(t,e,o,s)}function D(t,e){return S(t,e,o,l)}function M(t,e){return S(t,e,o,u)}function z(t,e){return S(t,e,o,c)}function N(t,e){return S(t,e,o,h)}function R(t,e){return S(t,e,o,d)}function F(t,e){return S(t,e,o,p)}function W(t,e){return S(t,e,o,g)}function H(t,e){return S(t,e,o,f)}function U(t,e){return S(t,e,T,_)}function V(t,e){return S(t,e,T,L)}function q(t,e){return S(t,e,T,I)}function G(t,e){return S(t,e,T,P)}i.r(e),i.d(e,"color",(function(){return q})),i.d(e,"colorBurn",(function(){return N})),i.d(e,"colorDodge",(function(){return z})),i.d(e,"darken",(function(){return D})),i.d(e,"difference",(function(){return W})),i.d(e,"exclusion",(function(){return H})),i.d(e,"hardLight",(function(){return R})),i.d(e,"hue",(function(){return U})),i.d(e,"lighten",(function(){return M})),i.d(e,"luminosity",(function(){return G})),i.d(e,"multiply",(function(){return E})),i.d(e,"normal",(function(){return j})),i.d(e,"overlay",(function(){return $})),i.d(e,"saturation",(function(){return V})),i.d(e,"screen",(function(){return A})),i.d(e,"softLight",(function(){return F}))},5:function(t,e,i){var o,r=i(13);
/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/!function(){"use strict";var n={}.hasOwnProperty;function a(){for(var t=[],e=0;e<arguments.length;e++){var i=arguments[e];if(i){var o=r(i);if("string"===o||"number"===o)t.push(i);else if(Array.isArray(i)){if(i.length){var s=a.apply(null,i);s&&t.push(s)}}else if("object"===o){if(i.toString!==Object.prototype.toString&&!i.toString.toString().includes("[native code]")){t.push(i.toString());continue}for(var l in i)n.call(i,l)&&i[l]&&t.push(l)}}}return t.join(" ")}t.exports?(a.default=a,t.exports=a):"object"===r(i(24))&&i(24)?void 0===(o=function(){return a}.apply(e,[]))||(t.exports=o):window.classNames=a}()},6:function(t,e,i){"use strict";i.d(e,"a",(function(){return c}));var o=i(11),r=i(3),n=i(2),a=i(0),s=i(4);function l(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,o)}return i}function u(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?l(Object(i),!0).forEach((function(e){Object(a.a)(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):l(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var c=function(){function t(){Object(r.a)(this,t)}return Object(n.a)(t,[{key:"_mergeElementsBoundingBoxes",value:function(){for(var e=arguments.length,i=new Array(e),r=0;r<e;r++)i[r]=arguments[r];return t.mergeBoundingBoxes.apply(t,Object(o.a)(i.map((function(e){return t.getElBoundingBox(e)}))))}}],[{key:"actualizeBottomAndRight",value:function(t){return t.bottom=t.top+t.height-1,t.right=t.left+t.width-1,t}},{key:"actualizeHeightAndWidth",value:function(t){return t.height=t.bottom-t.top+1,t.width=t.right-t.left+1,t}},{key:"boundingBox2RelativeScrollPos",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r=null===i?$(window).scrollTop():i,n=null===o?$(window).scrollLeft():o,a=u({},t);return a.top-=e?r:0,a.left-=e?n:0,a.bottom-=e?r:0,a.right-=e?n:0,a}},{key:"mergeBoundingBoxes",value:function(){for(var e=arguments.length,i=new Array(e),r=0;r<e;r++)i[r]=arguments[r];if(i.length){var n=i.filter((function(t){return t})),a=n.map((function(t){return t.top})),s=n.map((function(t){return t.left})),l=n.map((function(t){return t.bottom})),u=n.map((function(t){return t.right}));if(a&&a.length&&s&&s.length&&l&&l.length&&u&&u.length)return t.actualizeHeightAndWidth({top:Math.min.apply(Math,Object(o.a)(a)),left:Math.min.apply(Math,Object(o.a)(s)),right:Math.max.apply(Math,Object(o.a)(u)),bottom:Math.max.apply(Math,Object(o.a)(l))})}return null}},{key:"intersect",value:function(){for(var e=arguments.length,i=new Array(e),r=0;r<e;r++)i[r]=arguments[r];if(i.length){var n=i.filter((function(t){return t})),a=n.map((function(t){return t.top})),s=n.map((function(t){return t.left})),l=n.map((function(t){return t.bottom})),u=n.map((function(t){return t.right}));if(a&&a.length&&s&&s.length&&l&&l.length&&u&&u.length){var c=t.actualizeHeightAndWidth({top:Math.max.apply(Math,Object(o.a)(a)),left:Math.max.apply(Math,Object(o.a)(s)),right:Math.min.apply(Math,Object(o.a)(u)),bottom:Math.min.apply(Math,Object(o.a)(l))});return t.area(c)>0?c:null}}return null}},{key:"diff",value:function(t,e){return{top:t.top-e.top,left:t.left-e.left,bottom:t.bottom-e.bottom,right:t.right-e.right,width:t.width-e.width,height:t.height-e.height}}},{key:"isEqual",value:function(t,e){return t.top===e.top&&t.left===e.left&&t.bottom===e.bottom&&t.right===e.right}},{key:"diffAbs",value:function(e,i){var o=t.diff(e,i);return{top:Math.abs(o.top),left:Math.abs(o.left),bottom:Math.abs(o.bottom),right:Math.abs(o.right),width:Math.abs(o.width),height:Math.abs(o.height)}}}]),t}();Object(a.a)(c,"empty",(function(){return{top:0,width:0,height:0,left:0}})),Object(a.a)(c,"area",(function(t){return t&&t.width>0&&t.height>0?t.width*t.height:0})),Object(a.a)(c,"extendBB",(function(t,e,i){if(t&&!isNaN(e)&&!isNaN(i)){var o=u({},t);return o.top-=e,o.left-=i,o.bottom+=e,o.right+=i,c.actualizeHeightAndWidth(o)}return null})),Object(a.a)(c,"extendBB",(function(t,e){if(t&&!isNaN(e)){var i=u({},t);return i.top-=e,i.left-=e,i.bottom+=e,i.right+=e,c.actualizeHeightAndWidth(i)}return null})),Object(a.a)(c,"getElBoundingBox",(function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,n=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null;if(t){var a=$(t),l=a.offset();return e?c.boundingBox2RelativeScrollPos(c.actualizeBottomAndRight({top:l.top-Object(s.c)(a,"marginTop",0),left:l.left-Object(s.c)(a,"marginLeft",0),width:a.outerWidth(!0),height:a.outerHeight(!0)}),i,r,n):c.boundingBox2RelativeScrollPos(c.actualizeBottomAndRight({top:l.top,left:l.left,width:a.outerWidth(!1),height:a.outerHeight(!1)}),i,r,n)}return o}))},7:function(t,e,i){"use strict";i.d(e,"c",(function(){return O})),i.d(e,"b",(function(){return k})),i.d(e,"a",(function(){return x})),i.d(e,"d",(function(){return D}));var o=i(9),r=i(3),n=i(2),a=i(0),s=i(10),l=i.n(s),u=i(4),c=i(6);function h(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,o)}return i}function d(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?h(Object(i),!0).forEach((function(e){Object(a.a)(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):h(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var p=function(t,e,i){var o=t.width/e.width,r=t.height/e.height;return i?o-r:r-o},g=function(t,e,i,o,r,n,a){var s=Math.sign(t)<0;e&&(s=i);var l=0;switch(a.base){case"left":l=s?[o.left,r.left]:[r.left,n.left];break;case"right":l=s?[r.right,o.right]:[n.right,r.right];break;case"top":l=s?[o.top,r.top]:[r.top,n.top];break;case"bottom":l=s?[r.bottom,o.bottom]:[n.bottom,r.bottom]}return(s?-1:1)*(l[1]-l[0])/2},f=function(t,e,i,o,r){if(r){var n=d({},i);if(e.style.width=i.width-t+"px","left"===o.base){var a=$(e).outerWidth(!1);a!==n.width&&$(e).offset({left:i.left-(a-n.width)})}if("bottom"===o.align){var s=$(e).outerHeight(!1);s!==n.height&&$(e).offset({top:i.bottom-s+1})}}else{var l=i.height;if(e.style.width=i.width+t+"px","top"===o.base){var u=$(e).outerHeight(!1);u!==l&&$(e).offset({top:i.top-(u-l)})}"right"===o.align&&$(e).offset({left:i.left-t})}},b=function(t,e,i,o,r,n,a,s){for(var l=arguments.length>8&&void 0!==arguments[8]?arguments[8]:10,u=0,h=d({},e),b=d({},e),v=1,m=!1,y=!1,B=["left","right"].includes(o.base);u<l;){var w=v;if(v=p(h,r,B),u>0&&!m&&Math.abs(v)>Math.abs(w)){s&&console.log("Golden ratio: (bad direction)"),i.style.width=b.width+"px",$(i).offset({left:b.left+(a?$(window).scrollLeft():0),top:b.top+(a?$(window).scrollTop():0)}),u--,h=d({},b),m=y;break}b=d({},h),y=m;var S=!1;if(!(m=h.height>r.height))if(0===u)S=Math.abs(v)<=.03;else{var T=Math.abs(w)-Math.abs(v);S=Math.abs(v)<=.1||T<=.05}if(S)break;var O=g(v,m,B,n,h,0===u?t:b,o);if(f(O,i,h,o,B),h=c.a.getElBoundingBox(i,!1,a),c.a.isEqual(b,h)){s&&console.log("Golden ratio: ENDED (size modification had no effect)",u);break}u++}return s&&console.log("Golden ratio: SUCCESS (by ".concat(u," iterations)")),{wasPosAdjusted:u>0,tooltipBB:h,isOverHeight:m}},v=i(5),m=i.n(v),y=i(20),B=i(17);function w(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,o)}return i}function S(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?w(Object(i),!0).forEach((function(e){Object(a.a)(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):w(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var T=i(45).normal,O={wrapper:"dpit-wrapper",main:"dpit-main",builder:"dpit-builder",highlight:"dpit-highlight",tooltipReference:"dpit-tooltip-ref",tooltip:"dpit-tooltip",tooltipWithNumber:"dpit-tooltip--with-number",tooltipText:"dpit-tooltip-text",arrow:"dpit-arrow",progress:"dpit-progress",progressBar:"dpit-progress-bar",tooltipButtons:"dpit-tooltip-buttons",bullets:"dpit-bullets",rbAnim:"dpit-rb-anim",bulletsAnimModifier:"anim",number:"dpit-tooltip-number",numberOnTooltip:"dpit-tooltip-number--on-tooltip",button:"dpit-button",buttonText:"dpit-button__text",buttonSpacer:"dpit-button__spacer",buttonIco:"dpit-button__ico",buttonTextIco:"dpit-button__text-ico",buttonNext:"dpit-button--next",buttonPrev:"dpit-button--prev",buttonSkip:"dpit-button--skip",buttonFull:"dpit-button--full",buttonDone:"dpit-button--done",overlay:"dpit-overlay",overlayBlurredModifier:"blurred",overlayContainer:"dpit-overlay-container",disableInteraction:"dpit-disable-interaction",hidden:"dpit-hidden",hiddenByOpacityAndWidth:"dpit-hidden-by-opacity",disabled:"dpit-disabled",tourInRun:"dpit-on",builderInRun:"dpit-bon",noTrans:"dpit-no-trans",target:"dpit-target",targetClick:"dpit-target--click",targetBlockEvents:"dpit-target--block-events",targetParent:"dpit-target-parent",targetParentFixed:"dpit-target-parent--fixed",targetParentFixedChild:"dpit-target-parent--fixed-child",targetParentFixedCloser:"dpit-target-parent--fixed-closer",relativePosition:"dpit-relative-position",targetDummy:"dpit-target-dummy",colorAdjusted:"dpit-color-adjusted",bulletPulse:"dpit-bullet-pulse",gelatinePulse:"dpit-gelatine-pulse",isStickyTheme:"dpit-is-sticky-theme"},k={started:"started",onInit:"onInit",onBeforeEnd:"onBeforeEnd",ended:"ended",beforeStepChange:"beforeStepChange",afterStepChange:"afterStepChange",onButtonHover:"onButtonHover",onResize:"onResize",onBeforeRedirect:"onBeforeRedirect",onMobileMenuClose:"onMobileMenuClose",onMobileMenuOpen:"onMobileMenuOpen",onOverlayClick:"onOverlayClick"},x={goToNext:"goToNext",goToPrev:"goToPrev",goToStep:"goToStep",exit:"exit",setAccent:"setAccent",getScrollSpeed:"getScrollSpeed",setScrollSpeed:"setScrollSpeed",setCoreOptions:"setCoreOptions"},C="beforeStepChange",_="onBeforeShowStep",L="onBeforeEnd",I="none",P="soft",j="hard",E=function(t){return{r:t.red(),g:t.green(),b:t.blue(),a:t.alpha()}},A=function(t){var e=l.a.rgb(t.r,t.g,t.b);return e.alpha(t.a),e},D=function(){function t(e,i,n){var s=this;Object(r.a)(this,t),Object(a.a)(this,"startFollowTarget",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10;if(!s.followTargetInterval&&s.options.followTargetEn&&s.currentTargetItem&&(!s.currentTargetItem.isDummyElement||s.targetDummyBkpEl)){var o=s.currentTargetItem.isDummyElement&&s.targetDummyBkpEl,r=o?s.targetDummyBkpEl:s.currentTargetItem.element;if(r&&s.tooltipReferenceLayer){var n=c.a.getElBoundingBox(r),a=c.a.getElBoundingBox(s.tooltipReferenceLayer),l=c.a.diff(n,a);s.options.dpDebugEn&&console.log("follow start - init target BB:",n),s.isFollowTargetEnabled=!0;var u=!1;s.followTargetInterval=setInterval((function(){if(r&&s.tooltipReferenceLayer&&($(r).hasClass(O.target)||o)){var i=u?t:e,a=c.a.getElBoundingBox(r),h=c.a.getElBoundingBox(s.tooltipReferenceLayer),d=c.a.diff(a,h),p=c.a.diffAbs(l,d);(p.top>i||p.left>i||p.width>i||p.height>i)&&(s.options.dpDebugEn&&console.log("---  STEP ".concat(s._currentStep," FOLLOW TARGET: TARGET CHANGE POSITION: STARTED ---")),s._actualizeTargetPositionBasic(s.currentTargetItem),l=d,n=a)}}),i)}}})),Object(a.a)(this,"isStickyTheme",(function(){var t=!1;return s.dpIntroWrapper&&(t=$(s.dpIntroWrapper).hasClass("sticky")),t})),Object(a.a)(this,"setStepAsDummy",(function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;t&&(s.targetDummy=s.mainElement.querySelector("."+O.targetDummy),t.isDummyElement=!0,null===s.targetDummy&&(s.targetDummy=document.createElement("div"),s.targetDummy.setAttribute("aria-hidden","true"),s.mainElement.appendChild(s.targetDummy)),s.targetDummy.className=O.targetDummy,t.element=s.targetDummy,s.targetDummyBkpEl=e,$(s.highlightLayer).addClass("highlight-dummy"))})),Object(a.a)(this,"resetStepAsDummy",(function(t){t&&t.isDummyElement&&(t.isDummyElement=!1),s.targetDummyBkpEl=null,$(s.highlightLayer).removeClass("highlight-dummy")})),Object(a.a)(this,"start",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return s.ending=!1,s.introItems=s.initSteps(),s._currentStep=Math.max(-1,Math.min(t-1,s.introItems.length-1)),s.doAction(k.started),s.addOverlayLayer(!1,s.options.overlayBlurred)&&(s.nextStep(e,!0),$(s.overlayLayer).on("click",s._onOverlayClick.bind(s)),s._onKeyDownEventHandler=s._onKeyDown.bind(s),$(window).on("keydown",s._onKeyDownEventHandler),$(window).on("resize",s._onResize),s.docResizeObserver.observe(document.documentElement),s.docResizeObserver.observe(document.body)),s.isPortraitOrientation=s.isScreenPortraitOrientation(s.winBB),!1})),Object(a.a)(this,"setOption",(function(t,e){s.options[t]=e})),Object(a.a)(this,"goToStep",(function(t){if(!Number.isNaN(t)){var e=t-2<s._currentStep;s._currentStep=t-2,void 0!==s.introItems&&s.nextStep(e)}})),Object(a.a)(this,"goToStepNumber",(function(t){Number.isNaN(t)||(s.currentTargetItem&&s.updateIterateAfter(s.currentTargetItem,!0),s._currentStepNumber=t,void 0!==s.introItems&&s.nextStep())})),Object(a.a)(this,"nextStep",(function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];void 0!==s._currentStepNumber&&s._forEach(s.introItems,(function(t,e){t.step===s._currentStepNumber&&(s._currentStep=e-1,s._currentStepNumber=void 0)}));var i=e?null:s.currentTargetItem;i&&s.updateIterateAfter(i,!0),void 0===s._currentStep?s._currentStep=0:++s._currentStep;var o=s.introItems[s._currentStep],r=!0;if(s.doAction(k.beforeStepChange,{nextStepObj:s.stepObject4Hooks(o),backward:t,currentStepObj:s.stepObject4Hooks(i)}),s.beforeStepChangeCallback instanceof Function&&(r=s.beforeStepChangeCallback(s,o,t,i)),-1===r)return--s._currentStep,!1;0!==r?s.introItems.length<=s._currentStep?s.nextStepOnLastStep():(s.activeControl=t?"back":"next",s.showStepItem(o,!1,t)):s.nextStep()})),Object(a.a)(this,"previousStep",(function(){if(0===s._currentStep)return!1;s.activeControl="back";var t=s.currentTargetItem;t&&s.updateIterateAfter(t,!0),--s._currentStep;var e=s.introItems[s._currentStep],i=!0;if(s.doAction(k.beforeStepChange,{nextStepObj:s.stepObject4Hooks(e),backward:!0,currentStepObj:s.stepObject4Hooks(t)}),void 0!==s.beforeStepChangeCallback&&(i=s.beforeStepChangeCallback(s,e,!0,t)),-1===i)return++s._currentStep,!1;0!==i?s.showStepItem(e,!1,!0):s.previousStep()})),Object(a.a)(this,"hideOverlay",(function(){s.hideLayers(!0,!1,s.overlayLayer,s.overlayContainer)})),Object(a.a)(this,"showOverlay",(function(){Object(u.l)(s.overlayLayer,!1),Object(u.l)(s.overlayContainer,1)})),Object(a.a)(this,"bringOverlayAboveIntroLayers",(function(t){var e=null,i=$(s.overlayContainer).clone().addClass(O.hidden).get(0);i&&(e=$(i).children("."+O.overlay).addClass(O.hidden).get(0)),$(i).appendTo(s.mainElement),Object(u.l)(s.overlayLayer,.9*s.options.overlayOpacity),Object(u.l)(s.overlayContainer,1),Object(u.l)(e,.7*s.options.overlayOpacity),Object(u.l)(i,1),$(s.overlayContainer).css("z-index",Object(u.b)(7)),setTimeout((function(){t&&t()}),s.overlayContainerTransitionDelayMs)})),Object(a.a)(this,"hideLayers",(function(t,e){for(var i=arguments.length,o=new Array(i>2?i-2:0),r=2;r<i;r++)o[r-2]=arguments[r];o.length&&o.forEach((function(i){Object(u.i)(i,t,e)}))})),Object(a.a)(this,"showLayers",(function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];e.length&&e.forEach((function(t){Object(u.l)(t)}))})),Object(a.a)(this,"exitIntro",(function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];s.ending=!0;var r=!0;s.options.leave_overlay_always&&(t=!0),s.doAction(k.onBeforeEnd,{reason:i}),s.onBeforeExitCallback instanceof Function&&(r=s.onBeforeExitCallback(s)),(e||!1!==r)&&(s.targetDummy&&(s.targetDummy.parentNode.removeChild(s.targetDummy),s.targetDummy=null),s.reInitTarget(),s.hideIntroLayers(!t),t&&s.showOverlay(),o||setTimeout((function(){s._enableInteraction(!0),s._onKeyDownEventHandler&&$(window).off("keydown",s._onKeyDownEventHandler),$(window).off("resize",s._onResize),s.docResizeObserver.unobserve(document.documentElement),s.docResizeObserver.unobserve(document.body),$(s.overlayLayer).off("click",s._onOverlayClick),$("html").off("scroll wheel DOMMouseScroll mousewheel touchmove",s.stopAutoScrollWhenUserAction),$(s.buttonPrevLayer).off("click",s.goToPreviousStep),$(s.buttonNextLayer).off("click",s.goToNextStep),$(s.buttonSkipLayer).off("click",s.onSkipButtonClick),s.doAction(k.ended,{reason:i}),s._currentStep=void 0,s.exitIntroFinal(t)}),500))})),Object(a.a)(this,"reInitTarget",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;s.resetTargetElement(),s._clearContrastAdjustment(),t&&(s.currentTargetItem=t)})),Object(a.a)(this,"_pauseTour",(function(){s._enableInteraction(),s.reInitTarget(),s.hideIntroLayers(!0)})),Object(a.a)(this,"setCallback",(function(t,e){if("function"!=typeof e&&null!==e)throw new Error("Provided callback for ".concat(t," was not a function."));switch(t){case C:s.beforeStepChangeCallback=e;break;case _:s.onBeforeShowStepCallback=e;break;case L:s.onBeforeExitCallback=e;break;default:throw new Error("Provided callback name ".concat(t," was not recognized."))}})),Object(a.a)(this,"createBullet",(function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r=document.createElement("li");e&&(r.setAttribute("role","tab"),r.tabIndex=0,r.title=Object(u.j)("step",s.mainCfg.i18n)+" "+t),o&&(r.onclick=o),i?(r.className="active",r.setAttribute("aria-selected","true")):r.setAttribute("aria-selected","false"),e&&r.setAttribute("data-step-number",t);var n=document.createElement("div");return n.innerHTML=t,r.appendChild(n),r})),Object(a.a)(this,"createBullets",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O.bullets,e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,n=document.createElement("div");$(n).addClass(t);var a=document.createElement("ul");return i&&a.setAttribute("role","tablist"),s._forEach(s.introItems,(function(t,e){a.appendChild(s.createBullet(t.step,i,e===o,r))})),e||(n.style.display="none"),n.appendChild(a),n})),Object(a.a)(this,"actualizeBoardSizes",(function(){var t,e,i,o=arguments.length>0&&void 0!==arguments[0]&&arguments[0];o||(s.docBB=Object(u.e)(null===(e=s.mainCfg.mobile_break_points)||void 0===e?void 0:e.mobile),s.winBB=Object(u.h)(null===(i=s.mainCfg.mobile_break_points)||void 0===i?void 0:i.mobile),s.isMobileSize=s.getIsMobileSize());s.arrowLayer&&(s.arrowSizes={width:$(s.arrowLayer).outerWidth(),height:$(s.arrowLayer).outerHeight()}),s.maxDocBoardBB=s.getMaxBoardBB(!0,null===(t=s.currentTargetItem)||void 0===t?void 0:t.isFixedPos,s.targetBB,!0),s.actualizeScreenArea()})),Object(a.a)(this,"_onResize",(function(){s.options.resizeRefreshEn&&(s._resizeTimeout?s.restartResizeTimeout():s.disableOnResize||(s.pauseFollowTarget(),s.disableOnResize=!0,s.oldWinBB=S({},s.winBB),s.oldDocBB=S({},s.docBB),s.restartResizeTimeout(),s.disableOnResize=!1))})),Object(a.a)(this,"_cloneObject",(function(t){if(null===t||"object"!==Object(o.a)(t)||void 0!==t.nodeType)return t;var e={};for(var i in t)void 0!==window.jQuery&&t[i]instanceof window.jQuery?e[i]=t[i]:e[i]=s._cloneObject(t[i]);return e})),Object(a.a)(this,"setWinMargins",(function(t){var e=1;s.isMobileSize&&(e=.5);var i={left:s.arrowSizes.width*s.options.windowMarginCoef.x*e,right:s.arrowSizes.height*s.options.windowMarginCoef.x*e,top:s.arrowSizes.height*s.options.windowMarginCoef.y*e,bottom:s.arrowSizes.height*s.options.windowMarginCoef.y*e};return t&&(i.left=Math.min(i.left,t.left),i.right=Math.min(i.right,s.docBB.right-t.right),i.top=Math.min(i.top,t.top),i.bottom=Math.min(i.bottom,s.docBB.bottom-t.bottom)),i})),Object(a.a)(this,"getMaxBoardBB",(function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];s.windowMargins=o?s.setWinMargins(i):c.a.empty();var r={top:s.windowMargins.top,right:(t?s.docBB.right:s.winBB.right)-s.windowMargins.right,bottom:(t?s.docBB.bottom:s.winBB.bottom)-s.windowMargins.bottom,left:s.windowMargins.left};if(t&&e)r={top:s.windowMargins.top,right:s.winBB.width-1-s.windowMargins.right,bottom:s.winBB.height-1-s.windowMargins.bottom,left:s.windowMargins.left};else if(!t&&s.isStickyTheme()){var n=s._getStickyTooltipOffset();r.top+=n.top,r.bottom-=n.bottom}return c.a.actualizeHeightAndWidth(r)})),Object(a.a)(this,"placeTooltip",(function(t){var e,i,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a="",l=null;if(s.tooltipLayer.style.marginLeft=null,s.tooltipLayer.style.marginTop=null,s.tooltipLayer.style.borderTopLeftRadius=null,s.tooltipLayer.style.borderTopRightRadius=null,s.tooltipLayer.style.borderBottomLeftRadius=null,s.tooltipLayer.style.borderBottomRightRadius=null,0===o?(s.tooltipLayer.style.top=null,s.tooltipLayer.style.right=null,s.tooltipLayer.style.bottom=null,s.tooltipLayer.style.left=null,s.tooltipLayer.style.width=null,s.tooltipLayer.style.height=null,s.tooltipTextLayer.style.maxHeight=null):l=S({},s.tooltipPos),"1"===(null==t||null===(e=t.hidden_meta)||void 0===e||null===(i=e.ext)||void 0===i?void 0:i.build_with_wp_editor)?$(s.tooltipTextLayer).addClass("dpit-tooltip-text--rt"):$(s.tooltipTextLayer).removeClass("dpit-tooltip-text--rt"),s.options.customTextStylesEn?$(s.tooltipTextLayer).addClass("dpit-tooltip-text--cs"):$(s.tooltipTextLayer).removeClass("dpit-tooltip-text--cs"),s.actualizeScreenArea(),s.actualizeTooltipMaxWidth(),t){a="string"==typeof t.tooltipClass?t.tooltipClass:s.options.tooltipClass,s.tooltipLayer.className=O.tooltip,$(s.tooltipLayer).addClass(a.replace(/^\s+|\s+$/g,"")),s.options.showProgress&&$(s.tooltipLayer).addClass(O.tooltip+"--with-progress-bar");var h={width:$(s.arrowLayer).outerWidth(),height:$(s.arrowLayer).outerHeight()},d={width:h.width/2,height:h.height/2};s.tooltipBB=c.a.getElBoundingBox(s.tooltipLayer,!1,null==t?void 0:t.isFixedPos),s.tooltipPos=n&&s.tooltipPos?s.tooltipPos:s._determineAutoPosition(t,h,r);var p=["left","right"].includes(s.tooltipPos.base),g=Object(u.c)(s.tooltipLayer,"border-top-right-radius",0),f={top:d.height-s.options.tooltipDistanceFromTarget,left:s.targetBB.width/2-d.width},v={top:0,left:0},m={x:"right",y:"top",onTooltip:!1},y=!1;if(s.arrowLayer.style.display="",s.isStickyTheme()){var B,w=s._getStickyTooltipOffset(),T=!1;s.targetBB.top+s.targetBB.height>s.maxDocBoardBB.bottom-w.bottom&&!t.isDummyElement?($(s.tooltipLayer).hasClass("".concat(O.tooltip,"--on-top"))||(T=!0),$(s.tooltipLayer).addClass("".concat(O.tooltip,"--on-top")),$(s.mainElement).addClass("".concat(O.main,"--on-top"))):($(s.tooltipLayer).hasClass("".concat(O.tooltip,"--on-top"))&&(T=!0),$(s.tooltipLayer).removeClass("".concat(O.tooltip,"--on-top")),$(s.mainElement).removeClass("".concat(O.main,"--on-top"))),T&&s.actualizeScreenArea(),s.isTargetElementInsideMaxScreenArea=s.isElementInsideMaxScreenArea(null===(B=s.currentTargetItem)||void 0===B?void 0:B.element),s.isTargetElementInsideMaxScreenArea||(m.onTooltip=!0,m.x="left",m.y="top")}else{s.arrowLayer.className=O.arrow;var k="top";switch(s.tooltipPos.base){case"top":k="bottom",m.y="bottom",v.top=-s.tooltipBB.height-d.height-s.options.tooltipDistanceFromTarget,f.top=-d.height-1-s.options.tooltipDistanceFromTarget;break;case"right":m.x="left",k="left",v.left=s.targetBB.width-1+d.width+s.options.tooltipDistanceFromTarget,0===o&&(s.tooltipLayer.style.width=s.tooltipPos.width+"px"),f.left=s.targetBB.width-d.width+s.options.tooltipDistanceFromTarget;break;case"bottom":k="top",m.y="top",v.top=s.targetBB.height-1+d.height+s.options.tooltipDistanceFromTarget,f.top=s.targetBB.height+s.options.tooltipDistanceFromTarget-d.height;break;case"left":k="right",m.x="right",v.left=-d.width-s.tooltipPos.width-s.options.tooltipDistanceFromTarget,0===o&&(s.tooltipLayer.style.width=s.tooltipPos.width+"px"),f.left=v.left+s.tooltipPos.width-1;break;case"center":s.arrowLayer.style.display="none",m.onTooltip=!0,m.x="right",m.y="top",v.left=(s.targetBB.width-s.tooltipBB.width)/2}var x=0;"center"!==s.tooltipPos.base&&(p?(f.top=s.targetBB.height/2-d.height,h.height>s.targetBB.height&&(x=h.height-s.targetBB.height)):f.left=s.targetBB.width/2-d.width);var C=Object(u.f)(s.tooltipPos.base);switch(s.tooltipPos.align){case"left":m.x="right","center"!=s.tooltipPos.base&&g>0&&f.left<v.left+g&&(s.tooltipLayer.style["border-".concat(C,"-left-radius")]=Math.max(Math.min(f.left-v.left,g),0)+"px");break;case"center":m.x="right",v.left=(s.targetBB.width-s.tooltipBB.width)/2;break;case"right":if(m.x="left",v.left=s.targetBB.width-s.tooltipBB.width,"center"!=s.tooltipPos.base&&g>0){var _=v.left+s.tooltipBB.width-1,L=f.left+h.width-1;L>_-g&&(s.tooltipLayer.style["border-".concat(C,"-right-radius")]=Math.max(Math.min(_-L,g),0)+"px")}break;case"top":m.y="bottom",v.top=0,s.targetBB.height>s.tooltipBB.height/1.8&&(f.top=s.tooltipBB.height/2-d.height-x,s.tooltipPos.align="middle"),"center"===s.tooltipPos.base?v.top=s.options.centerTopBottomPosOffset:g>0&&f.top<v.top+g&&(s.tooltipLayer.style["border-top-".concat(C,"-radius")]=Math.max(Math.min(f.top-v.top,g),0)+"px");break;case"middle":m.y="top",v.top=(s.targetBB.height-s.tooltipBB.height)/2;break;case"bottom":if(m.y="top",v.top=s.targetBB.height-s.tooltipBB.height+x,s.targetBB.height>s.tooltipBB.height/1.8&&(f.top=s.targetBB.height-s.tooltipBB.height/2-d.height,s.tooltipPos.align="middle"),"center"!=s.tooltipPos.base&&g>0){var I=v.top+s.tooltipBB.height-1,P=f.top+h.height-1;P>I-g&&(s.tooltipLayer.style["border-bottom-".concat(C,"-radius")]=Math.max(Math.min(I-P,g),0)+"px")}}if(s.tooltipLayer.style.left=v.left+"px",s.tooltipLayer.style.top=v.top+"px",s.tooltipPos.base&&$(s.tooltipLayer).addClass("".concat(O.tooltip,"--").concat(s.tooltipPos.base)),s.tooltipPos.align&&$(s.tooltipLayer).addClass("".concat(O.tooltip,"--").concat(s.tooltipPos.align,"-aligned")),s.tooltipBB=c.a.getElBoundingBox(s.tooltipLayer,!1,null==t?void 0:t.isFixedPos),s.arrowLayer.style.left=f.left+"px",s.arrowLayer.style.top=f.top+"px",$(s.arrowLayer).addClass("".concat(O.arrow,"--").concat(k)),$(s.arrowLayer).addClass("".concat(O.arrow,"--").concat(s.tooltipPos.align,"-aligned")),["top","bottom"].includes(s.tooltipPos.base)){var j=0,E=s.tooltipBB.left<s.maxDocBoardBB.left,A=s.tooltipBB.right>s.maxDocBoardBB.right;if(E)j=Math.abs(s.maxDocBoardBB.left-s.tooltipBB.left),s.options.dpDebugEn&&console.log("adjusting top bottom position: isOverLeft"),$(s.tooltipLayer).offset({left:s.maxDocBoardBB.left}),s.tooltipBB=c.a.getElBoundingBox(s.tooltipLayer,!1,null==t?void 0:t.isFixedPos),(A=s.tooltipBB.right>s.maxDocBoardBB.right)&&(s.tooltipLayer.style.width=s.tooltipBB.width-2*j+"px");else if(A){s.options.dpDebugEn&&console.log("adjusting top bottom position: isOverRight");var D=s.maxDocBoardBB.right-s.tooltipBB.width;j=Math.abs(D-s.tooltipBB.left),$(s.tooltipLayer).offset({left:D}),s.tooltipBB=c.a.getElBoundingBox(s.tooltipLayer,!1,null==t?void 0:t.isFixedPos),(E=s.tooltipBB.left<s.maxDocBoardBB.left)&&(s.tooltipLayer.style.width=s.tooltipBB.width-2*j+"px")}}if(s.options.goldenRatioPosAlgEn&&o<3&&!(o>0&&l.base===s.tooltipPos.base&&l.align===s.tooltipPos.align)){var M=["left","right","bottom","top"].filter((function(t){return!r[t]}));if(M.includes(s.tooltipPos.base)){var z=b(s.targetBB,s.tooltipBB,s.tooltipLayer,s.tooltipPos,s.maxScreenArea,s.maxDocBoardBB,null==t?void 0:t.isFixedPos,s.options.dpDebugEn);y=z.wasPosAdjusted,s.tooltipBB=S({},z.tooltipBB),z.isOverHeight&&(r[s.tooltipPos.base]=!0)}}if(!r[s.tooltipPos.base]){var N=s.adjustFixedPositionsOutOfWindow(t);N&&(y=!0,r[s.tooltipPos.base]=!0)}}if(y&&o<2)s.options.dpDebugEn&&o>0&&console.log("fullIterations",o),s.placeTooltip(t,++o,r);else if(s.options.showStepNumbers){var R=s._getScrollOffset(t,!0),F={x:null!==R.x?R.x:$(window).scrollLeft(),y:null!==R.y?R.y:$(window).scrollTop()};s._placeNumberLayer(s.targetBB,F,s.tooltipPos,m)}}})),Object(a.a)(this,"_placeNumberLayer",(function(t,e,i){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{x:"right",y:"top",onTooltip:!1};s.dpIntroWrapper.style.setProperty("--num-size-coef",""),$(s.numberLayer).removeClass(O.gelatinePulse),$(s.numberLayer).removeClass(O.hidden+" dpit-fixed"),$(s.numberLayer).css("width",""),$(s.numberLayer).css("height",""),o.onTooltip?($(s.numberLayer).addClass(O.numberOnTooltip),$(s.tooltipLayer).addClass(O.tooltipWithNumber)):($(s.numberLayer).removeClass(O.numberOnTooltip),$(s.tooltipLayer).removeClass(O.tooltipWithNumber)),s.actualizeNumberBB();var r={width:s.numberLayerBB.width/2,height:s.numberLayerBB.height/2},n=s.highlightLayer,a=t,l=s.tooltipBB;o.onTooltip&&(a=s.tooltipBB,l=t,n=s.tooltipLayer);var h={x:r.width/a.width,y:r.height/a.height},d=1,p=.25,g=1,f=!1;if(h.x>p||h.y>p){f=!0;var b={x:1-(h.x-p),y:1-(h.y-p)};d=Math.min(b.x,b.y),s.options.dpDebugEn&&console.log("Adjusting number pos because small ref/tooltip. Coef: ",d,"Features: ",b),g=Math.min(Math.max(1.7*d,.8),1),s.dpIntroWrapper.style.setProperty("--num-size-coef",g),s.actualizeNumberBB()}var v=Object(u.c)(n,"border-top-left-radius",2),m=v+r.width/3,y={left:a.left-s.numberLayerBB.width+d*r.width,right:a.right-1-d*r.width,top:a.top-s.numberLayerBB.height+d*r.height,bottom:a.bottom-1-d*r.height,leftIndented:a.left+m,rightIndented:a.right-1-s.numberLayerBB.width-m,topIndented:a.top+m,bottomIndented:a.bottom-1-s.numberLayerBB.height-m},B={left:y.left>=e.x&&y.left>=s.winBB.left,right:y.right+s.numberLayerBB.width<=e.x+s.winBB.width-1&&y.right+s.numberLayerBB.width<=s.docBB.right,top:y.top>=e.y&&y.top>=s.winBB.top,bottom:y.bottom+s.numberLayerBB.height<=e.y+s.winBB.height-1&&y.bottom+s.numberLayerBB.height<=s.docBB.bottom};B=S(S({},B),{},{leftIndented:!f&&y.leftIndented<=a.right-m&&y.leftIndented>=e.x&&y.leftIndented>=s.winBB.left,rightIndented:!f&&y.rightIndented+s.numberLayerBB.width>=a.left+m&&y.rightIndented+s.numberLayerBB.width<=e.x+s.winBB.width-1&&y.rightIndented<=s.docBB.right,topIndented:!f&&y.topIndented<=a.bottom-m&&y.topIndented>=e.y&&y.topIndented>=s.winBB.top,bottomIndented:!f&&y.bottomIndented+s.numberLayerBB.height>=a.top+m&&y.bottomIndented+s.numberLayerBB.height<=e.y+s.winBB.height-1&&y.bottomIndented<=s.docBB.bottom});var w=Object.keys(y).filter((function(t){return B[t]})),T=[];["top","topIndented","bottom","bottomIndented"].forEach((function(t){w.includes(t)&&["left","leftIndented","right","rightIndented"].forEach((function(e){if(w.includes(e)){var r=0,n={x:e,y:t},a=s.isNumberCloseToTooltip(n,i.base,o.onTooltip);o.onTooltip||(o.x===e&&r++,o.y===t&&r++),e.endsWith("Indented")&&r--,t.endsWith("Indented")&&r--,a&&r--,T.push({type:n,left:y[e],top:y[t],score:r,isNumberCloseToTooltip:a})}}))})),T.sort((function(t,e){return e.score-t.score}));var k=[];if("center"!==i.base?T.forEach((function(t){var e=c.a.actualizeBottomAndRight(S(S({},t),{},{width:s.numberLayerBB.width,height:s.numberLayerBB.height}));c.a.intersect(l,e)||k.push(S({},t))})):k=T,k.length){var x;if(null!==(x=s.currentTargetItem)&&void 0!==x&&x.isFixedPos&&o.onTooltip&&(k[0].top+=$(window).scrollTop(),k[0].left+=$(window).scrollLeft()),g>=1&&k[0].isNumberCloseToTooltip&&(g=.95,s.options.dpDebugEn&&console.log("Number is close to tooltip"),s.dpIntroWrapper.style.setProperty("--num-size-coef",g)),o.onTooltip&&($(s.numberLayer).addClass(O.numberOnTooltip),$(s.tooltipLayer).addClass(O.tooltipWithNumber),s.isStickyTheme()))return void s._placeNumberLayerOnTooltipInFixedBottomTheme(r);$(s.numberLayer).offset({top:k[0].top,left:k[0].left})}else o.onTooltip?$(s.numberLayer).addClass(O.hidden):s.isStickyTheme()?s._placeNumberLayerOnTooltipInFixedBottomTheme(r):s._placeNumberLayer(t,e,i,S(S({},o),{},{onTooltip:!0}))})),Object(a.a)(this,"_determineAutoPosition",(function(t,e,i){var o={base:"bottom",align:"middle",width:s.tooltipBB.width},r=t.position;if(t.isDummyElement)return o.base="center",s.winBB.width<600?o.align="top":o.align="middle",o;i[r]&&(r=Object(u.f)(r));var n={};s.options.positionPrecedence.forEach((function(t){n[t]={score:0,disabled:!1}}));var a={width:s.tooltipBB.width+e.width/2+s.options.tooltipDistanceFromTarget,height:s.tooltipBB.height+e.height/2+s.options.tooltipDistanceFromTarget},l=s.getMinimalTooltipWidth(),c={left:a.width,right:a.width},h={left:null,right:null},d=s.maxDocBoardBB.right-s.targetBB.right,p=d-e.width/2-s.options.tooltipDistanceFromTarget;p>l&&p<s.tooltipBB.width&&(c.right=d,h.right=p);var g=s.targetBB.left-s.maxDocBoardBB.left,f=g-e.width/2-s.options.tooltipDistanceFromTarget;f>l&&f<s.tooltipBB.width&&(c.left=g,h.left=f);var b="center"===r?s.targetBB.height:s.targetBB.height/2,v=a.height+s.targetBB.height,m=(s.winBB.height-v)/s.winBB.height;n.bottom.disabled=s.targetBB.bottom+a.height>s.maxDocBoardBB.bottom&&!(null!=t&&t.isFixedPos),n.bottom.score+=i.bottom?-1:m,n.top.disabled=s.targetBB.top-a.height<s.maxDocBoardBB.top&&!(null!=t&&t.isFixedPos),n.top.score+=i.top?-1:m,n.right.disabled=s.targetBB.right+c.right>s.maxDocBoardBB.right+1,n.right.score+=i.right?-1:1-c.right/(s.winBB.width-s.targetBB.right),n.left.disabled=s.targetBB.left-c.left<s.maxDocBoardBB.left,n.left.score+=i.left?-1:1-c.left/s.targetBB.left,n.center.disabled=s.targetBB.width<=s.tooltipBB.width||b<=s.tooltipBB.height,s.targetBB.width-s.tooltipBB.width<s.targetBB.height-s.tooltipBB.height?n.center.score+=(s.targetBB.width-s.tooltipBB.width)/s.targetBB.width-.5:n.center.score+=(s.targetBB.height-s.tooltipBB.height)/s.targetBB.height-.5;var y=[];Object.keys(n).forEach((function(t){n[t].disabled||y.push({position:t,score:n[t].score})})),y.sort((function(t,e){return e.score-t.score}));var B,w,S=y.map((function(t){return t.position})),T=-1!==(w=(B=r||"").indexOf("-"))?B.substr(w):"";return r&&(r=r.split("-")[0]),S.length&&("auto"!==r&&S.indexOf(r)>-1?o.base=r:o.base=S[0]),-1!==["top","bottom"].indexOf(o.base)?o.align=s._determineAutoAlignmentX(s.targetBB,a.width,T):-1!==["left","right"].indexOf(o.base)?(h[o.base]&&(o.width=h[o.base]),o.align=s._determineAutoAlignmentY(s.targetBB,a.height,T,e)):"center"===o.base&&(o.align="middle"),o})),Object(a.a)(this,"_determineAutoAlignmentX",(function(t,e,i){var o=["center","left","right"];t.left+e>s.maxDocBoardBB.right&&s._removeEntry(o,"left");var r=t.left+t.width/2;return(r-.5*e<s.maxDocBoardBB.left||r+.5*e>s.maxDocBoardBB.right)&&s._removeEntry(o,"center"),t.right-e<s.maxDocBoardBB.left&&s._removeEntry(o,"right"),o.length?-1!==o.indexOf(i)?i:o[0]:"center"})),Object(a.a)(this,"_determineAutoAlignmentY",(function(t,e,i){var o=["middle","top","bottom"];t.top+e>s.maxDocBoardBB.bottom&&s._removeEntry(o,"top");var r=t.top+t.height/2;return(r-e/2<s.maxDocBoardBB.top||r+e/2>s.maxDocBoardBB.bottom)&&s._removeEntry(o,"middle"),t.bottom-e<s.maxDocBoardBB.top&&s._removeEntry(o,"bottom"),o.length?-1!==o.indexOf(i)?i:o[0]:"middle"})),Object(a.a)(this,"_removeEntry",(function(t,e){t.indexOf(e)>-1&&t.splice(t.indexOf(e),1)})),Object(a.a)(this,"setLayerPosition",(function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(t){if(!s.currentTargetItem)return;o&&($(t).removeClass("dpit-no-lradius dpit-no-rradius"),s.targetBB.left<=0&&$(t).addClass("dpit-no-lradius"),s.targetBB.right>=s.docBB.width&&$(t).addClass("dpit-no-rradius")),e&&$(t).addClass(e),i&&$(t).removeClass(i),s.currentTargetItem.isFixedPos?$(t).addClass("dpit-fixed"):$(t).removeClass("dpit-fixed"),s.currentTargetItem.isFixedPos?$(t).css({top:s.targetBB.top+"px",left:s.targetBB.left+"px",width:s.targetBB.width+"px",height:s.targetBB.height+"px"}):($(t).offset({top:s.targetBB.top,left:s.targetBB.left}),$(t).css({width:s.targetBB.width+"px",height:s.targetBB.height+"px"}))}})),Object(a.a)(this,"_setAsButton",(function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;t.setAttribute("role","button"),e&&"string"==typeof e&&t.setAttribute("aria-label",e),i>=0&&(t.tabIndex=0)})),Object(a.a)(this,"actualizeTargetItem",(function(t,e){var i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return s.actualizeTargetItemCore(t,i)?(e?s.goToPreviousStep()||(s.visibleFirstStepShouldBeEvaluated=!0,s.goToNextStep()):s._currentStep<s.introItems.length-1?(0===s._currentStep&&(s.visibleFirstStepShouldBeEvaluated=!0),s.goToNextStep()):(s.visibleLastStepShouldBeEvaluated=!0,s.goToPreviousStep()),!1):(s.visibleLastStepShouldBeEvaluated&&(s.visibleLastStep=s._currentStep,s.visibleLastStepShouldBeEvaluated=!1),s.visibleFirstStepShouldBeEvaluated&&(s.visibleFirstStep=s._currentStep,s.visibleFirstStepShouldBeEvaluated=!1),!0)})),Object(a.a)(this,"actualizeTargetItemCore",(function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=!1;if(t){if(s.isStepItemInMobileMenu(t)){var r=Object(u.a)(t.alt_mobile_selector);r&&r.length&&(t.element=r[0],s.resetStepAsDummy(t))}else if(t.alt_mobile_selector&&s.isMobileSize){var n=Object(u.a)(t.alt_mobile_selector,null);n&&n.length?t.element=n[0]:t.element=null}else if(t.selector){var a=Object(u.a)(t.selector,null);a&&a.length?t.element=a[0]:t.element=null}else t.element=null;e&&(o=s._shouldBeStepSkipped(t,s.isMobileSize),s.setNotVisibleRefBullet(t.step,o),s.updateIterateAfter(t),s.options.dpDebugEn&&console.log("Current step:",t)),!s.options.dpDebugEn||t.element&&$(t.element).is(":visible")||s.options.dpDebugEn&&e&&console.log("Current not visible!");var l=t.element&&s.targetDummy!==t.element&&!$(t.element).is(":visible")&&(!e||!s.options.skip_absent_ref_el);o||(!t.element||s.targetDummy===t.element||l?s.setStepAsDummy(t,l?t.element:null):s.resetStepAsDummy(t)),i||(s.hasTargetItemHiddenOverlay(t)?s.hideOverlay():s.showOverlay()),t.isFixedPos=s.isFixedPos(t.element)}return o})),Object(a.a)(this,"stopClickPropagation",(function(t){return t&&(t.target&&("mousedown"===t.type&&$(t.target).closest(O.target).addClass(O.targetBlockEvents),"mouseup"===t.type&&$(t.target).closest(O.target).removeClass(O.targetBlockEvents)),t.stopImmediatePropagation(),t.preventDefault()),!1})),Object(a.a)(this,"iterateStepAfterUserAction",(function(){if(!s.options.disableIterateAfterActions&&s.currentTargetItem){var t,e,i,o,r=null!==(t=null===(e=s.currentTargetItem.enable_interaction)||void 0===e||null===(i=e.ext)||void 0===i?void 0:i.iterate_after_click_delay_ms)&&void 0!==t?t:500;s.inHighlightLayerAnimation.createAndRun(),Object(u.i)(null===(o=s.currentTargetItem)||void 0===o?void 0:o.element),setTimeout((function(){var t;s.inHighlightLayerAnimation.destroy(),Object(u.l)(null===(t=s.currentTargetItem)||void 0===t?void 0:t.element),s.goToNextStep()}),r)}return!0})),Object(a.a)(this,"checkTooltipIFrames",(function(t){if(s.tooltipBBRel=c.a.getElBoundingBox(s.tooltipTextLayer,!1,!0),t){var e=t.indexOf("<iframe");if(e>=0){var i=t.indexOf(">",e+7);if(i>=0){var o=t.substr(e,i-e+1);if(o&&o.includes("allowfullscreen"))return void(s._isIframeInTooltip=!0)}}}s._isIframeInTooltip=!1})),Object(a.a)(this,"actualizeAutoFocus",(function(t){if(s.options.controlsAutoFocusEnable&&!t){var e=null;switch(s.activeControl){case"next":e=s.buttonNextLayer;break;case"back":e=s.buttonPrevLayer;break;case"skip":e=s.buttonSkipLayer}s.options.dpDebugEn&&console.log("Active control: "+s.activeControl),e&&e.focus({preventScroll:!0,focusVisible:!1})}})),Object(a.a)(this,"actualizeProgressBar",(function(){!0!==s.options.showProgress?s.progressLayer.style.display="none":s.progressLayer.style.display="";var t=s.getProgressInPercent();s.progressBarLayer.style.cssText="width:"+t+"%;",s.progressBarLayer.setAttribute("aria-valuenow",t)})),Object(a.a)(this,"actualizeBulletsNavig",(function(t){if($(s.bulletsLayer).find("."+O.bulletPulse).removeClass(O.bulletPulse),s.visibleLastStep)for(var e=s.visibleLastStep+1;e<s.introItems.length;e++)s.setNotVisibleRefBullet(e+1,!0);if(s.visibleFirstStep)for(var i=s.visibleFirstStep-1;i>=0;i--)s.setNotVisibleRefBullet(i+1,!0);s.options.showBullets&&s.activateBullet(t.step),s.actualizeBulletScrollBar()})),Object(a.a)(this,"fixTargetLowContrast",(function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];try{if(!t||t.isDummyElement||!s.highlightLayer||t.isFixedPos)return;var i=t.element;if(s.highlightLayer&&t){if("light_bg"===t.highlight)return void(s.highlightLayer.style.backgroundColor="rgb(".concat(Object(u.d)(s.dpIntroWrapper,"--highlight-layer-bg-color","255, 255, 255"),")"));if("dark_bg"===t.highlight)return void(s.highlightLayer.style.backgroundColor="rgb(".concat(Object(u.d)(s.dpIntroWrapper,"--highlight-layer-bg-color-darker","34, 34, 34"),")"))}var o=!1,r=s.highlightLayer.style.backgroundColor;if(e||(r="rgb(".concat(Object(u.d)(s.dpIntroWrapper,"--highlight-layer-bg-color","255, 255, 255"),")")),r){var n=new l.a(r);if(n){var a=$(i).find(":visible").add(i);if(a){var c=$(i).parent();c&&(c=c[0]);var h=s;a.each((function(){var i=Object(u.c)(this,"opacity",1);$(this).css("opacity");var r=1,a=window.getComputedStyle(this,":before"),s="none"!=a.getPropertyValue("content");if(s){var d=a.getPropertyValue("opacity");d&&(r=Number(d))}var p=1,g=window.getComputedStyle(this,":after"),f="none"!=g.getPropertyValue("content");if(f){var b=g.getPropertyValue("opacity");b&&(p=Number(b))}var v=!!this.firstChild&&"svg"===$(this.firstChild).prop("tagName"),m=s&&r>0||f&&p>0;if(this.firstChild&&(this.firstChild.nodeType===Node.TEXT_NODE||v)&&i>0||m){var y=this.textContent,B=$(this).css("color");if(!y&&m&&(s?B=a.getPropertyValue("color"):f&&(B=g.getPropertyValue("color"))),B){var w=new l.a(B);if(w){for(var S={r:0,g:0,b:0,a:0},k=this;k&&k!=c;){var x=$(k).css("background-color");if(x){var C=new l.a(x);if(C&&(C.alpha()&&(S=T(E(C),S)),S.a>.9))break}(k=$(k).parent())&&(k=k[0])}if(S.a<.9){var _=A(T(E(n),S)).luminosity(),L=w.luminosity();if(Math.abs(_-L)<.3){var I;if(!e)return I=n.isDark()?"rgb(255, 255, 255)":"rgb(34, 34, 34)",h.highlightLayer.style.backgroundColor=I,h.fixTargetLowContrast(t,!0),void(o=!0);$(this).addClass(O.colorAdjusted),$(this).data("init-color")||$(this).attr("data-init-color",B),n.isDark()?$(this).css("color",w.lighten(.5).rgb().toString()):$(this).css("color",w.darken(.5).rgb().toString())}}}}}}))}}!s.highlightLayer.style.backgroundColor||e||o||s._removeInlineProp(s.highlightLayer,"background-color")}}catch(t){console.warn("Exception thrown in fixTargetLowContrast",t.stack)}})),Object(a.a)(this,"_bulletClickCallback",(function(t){t&&t.target&&!s.options.disable_navigation_by_bullets&&s.goToStep(t.target.closest("li").getAttribute("data-step-number"))})),Object(a.a)(this,"isStickyThemeOnTop",(function(){return s.isStickyTheme()&&$(s.tooltipLayer).hasClass("".concat(O.tooltip,"--on-top"))})),Object(a.a)(this,"_getStickyTooltipOffset",(function(){if(s.isStickyTheme()){var t=$(s.tooltipLayer);if(t){var e=$(s.bulletsLayer),i=null,o=null;if(e&&e.length&&(i=Object(u.c)(e,"top",0),o=e.outerHeight()),t.hasClass("".concat(O.tooltip,"--on-top")))return{top:t.outerHeight(),bottom:null===i?0:i};var r=0;return null!==i&&null!==o&&(r=i+o),{top:r,bottom:t.outerHeight()}}}return{top:0,bottom:0}})),Object(a.a)(this,"_getFlyingObjectsBB",(function(t,e,i){return s.isStickyTheme()?($(s.numberLayer).hasClass(O.numberOnTooltip),t):"element"===s.options.scrollTo?c.a.mergeBoundingBoxes(t,i):"tooltip"===s.options.scrollTo?e:c.a.mergeBoundingBoxes(t,e,i)})),Object(a.a)(this,"_getScrollOffset",(function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i={x:null,y:null};if(t&&"off"!==t.scrollTo&&s.options.scrollToElement&&!t.isDummyElement&&!t.isFixedPos){s.actualizeNumberBB();var o=e||!0!==s.options.showStepNumbers?null:s.numberLayerBB;if(s.currentFlyingObjectBB=s._getFlyingObjectsBB(s.targetBB,s.tooltipBB,o),s.docBB.height>s.winBB.height){var r=s._getStickyTooltipOffset(),n=s.winBB.height-(r.top+r.bottom);i.y=s.getBottomScrollOffset(s.currentFlyingObjectBB,s.targetBB,s.tooltipBB,n,r)}s.docBB.width>s.winBB.width&&(i.x=s.currentFlyingObjectBB.left-(s.winBB.width/2-s.currentFlyingObjectBB.width/2),s.currentFlyingObjectBB.width-10>s.winBB.width&&(s.tooltipBB.left>s.targetBB.right?i.x=s.currentFlyingObjectBB.right-s.winBB.width+20:s.tooltipBB.right<s.targetBB.left&&(i.x=s.currentFlyingObjectBB.left-20)))}return i})),Object(a.a)(this,"resetTargetElement",(function(){s.currentTargetItem&&(s.updateIterateAfter(s.currentTargetItem,!0),$(document.documentElement).removeClass("dpit-step-"+s.currentTargetItem.step)),s._removePossiblyChangingPositionClassSafe(O.targetParent,[O.targetParentFixed,O.targetParentFixedChild,O.targetParentFixedCloser,O.relativePosition].join(" ")),s._resetInlineStyle();var t=document.querySelectorAll(".".concat(O.target));s._forEach(t,(function(t){var e=t===s.targetDummy;if(t.className&&"string"==typeof t.className){var i=t.className&&t.className.split(/\s+/);i&&i.length&&i.forEach((function(e){e.startsWith("dpit-")&&$(t).removeClass(e)}))}else $(t).removeClass([O.target,O.targetBlockEvents,O.relativePosition]);e&&$(t).addClass(O.targetDummy)}))})),Object(a.a)(this,"setTargetElementClasses",(function(t){var e;if(t!==s.targetDummy){if(t instanceof SVGElement)for(e=t.parentNode;null!==t.parentNode&&e.tagName&&"body"!==e.tagName.toLowerCase();)"svg"===e.tagName.toLowerCase()&&($(e).addClass(O.target),s._addPossiblyChangingPositionClassSafe($(e),O.relativePosition)),e=e.parentNode;var i=s.isStepItemInMobileMenu(s.currentTargetItem);$(t).addClass(O.target);var o=$(t).css("position");"absolute"!==o&&"relative"!==o&&"sticky"!==o&&"fixed"!==o&&s._addPossiblyChangingPositionClassSafe($(t),O.relativePosition),e=t.parentNode;for(var r=!1,n=null,a=!1;null!==e&&e.tagName&&"body"!==e.tagName.toLowerCase();){var l=$(e).css("z-index"),c=Object(u.c)(e,"opacity",1),h=$(e).css("filter"),d=$(e).css("transform"),p="none"!==d&&void 0!==d,g=c<1;if(i||/[0-9]+/.test(l)||g||h||p){var f=[O.targetParent],b=$(e).css("position");(i||p||g||"fixed"===b||"sticky"===b)&&(f.push(O.targetParentFixed),a||(f.push(O.targetParentFixedCloser),a=!0)),(i||p||g||"fixed"===b||"sticky"===b||"absolute"===b)&&(r=!0,n=e),s._addPossiblyChangingPositionClassSafe($(e),f.join(" "))}e=e.parentNode}r?($(s.highlightLayer).addClass("".concat(O.highlight,"--fixed-pos")),n&&$(n).find(".".concat(O.targetParent)).addClass(O.targetParentFixedChild)):$(s.highlightLayer).removeClass("".concat(O.highlight,"--fixed-pos"))}})),Object(a.a)(this,"_addPossiblyChangingPositionClassSafe",(function(t,e){if(t.length&&!t.hasClass(e)){s.pauseFollowTarget();var i=t[0],o=t.offset();t.addClass(e);var r=t.offset(),n=!1;Math.abs(r.top-o.top)>1&&(t.attr("data-".concat("fix","-inline-top"),i.style.top),n=!0),Math.abs(r.left-o.left)>1&&(t.attr("data-".concat("fix","-inline-left"),i.style.left),n=!0),n&&(t.attr("data-".concat("fix","-inline-position"),i.style.position),t.offset(o)),s.restoreFollowTarget()}})),Object(a.a)(this,"_restoreInlineStyleAfterAddingPossiblyChangingPositionClass",(function(t,e,i){var o="data-".concat(e,"-inline-").concat(i);t.hasAttribute(o)?($(t).css(i,t.getAttribute(o)),t.removeAttribute(o)):t.removeAttribute(i)})),Object(a.a)(this,"_removePossiblyChangingPositionClassSafe",(function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i="fix";s.pauseFollowTarget();var o=document.querySelectorAll("."+t);s._forEach(o,(function(o){$(o).removeClass(t),e&&$(o).removeClass(e),s._restoreInlineStyleAfterAddingPossiblyChangingPositionClass(o,i,"left"),s._restoreInlineStyleAfterAddingPossiblyChangingPositionClass(o,i,"top"),s._restoreInlineStyleAfterAddingPossiblyChangingPositionClass(o,i,"width"),s._restoreInlineStyleAfterAddingPossiblyChangingPositionClass(o,i,"height"),s._restoreInlineStyleAfterAddingPossiblyChangingPositionClass(o,i,"position")})),s.restoreFollowTarget()})),Object(a.a)(this,"_forEach",(function(t,e,i){if(t)for(var o=0,r=t.length;o<r;o++)e(t[o],o);"function"==typeof i&&i()})),Object(a.a)(this,"isFixedPos",(function(t){if(!t)return!1;var e=t.parentNode;return!(!e||"HTML"===e.nodeName)&&("fixed"===$(t).css("position")||s.isFixedPos(e))})),Object(a.a)(this,"addOverlayLayer",(function(){var t,e,i=arguments.length>0&&void 0!==arguments[0]&&arguments[0],o=arguments.length>1&&void 0!==arguments[1]&&arguments[1];s.overlayContainer||(s.overlayContainer=document.createElement("div"),s.overlayContainer.className=m()((t={},Object(a.a)(t,O.overlayContainer,!0),Object(a.a)(t,O.hidden,!0),t)),s.overlayLayer=document.createElement("div"),s.overlayLayer.className=m()((e={},Object(a.a)(e,O.overlay,!0),Object(a.a)(e,"".concat(O.overlay,"--").concat(O.overlayBlurredModifier),o),e)),s.overlayLayer.style.opacity=s.options.overlayOpacity,s.overlayContainer.appendChild(s.overlayLayer),s.overlayContainer.setAttribute("aria-hidden","true"),s.mainElement.appendChild(s.overlayContainer),i||window.setTimeout((function(){s.showOverlay()}),10),s.overlayContainerTransitionDelayMs=Object(u.g)(s.overlayContainer),s.overlayTransitionDelayMs=Object(u.g)(s.overlayLayer));return!0})),Object(a.a)(this,"_getScrollParent",(function(t){var e=window.getComputedStyle(t),i="absolute"===e.position,o=/(auto|scroll)/;if("fixed"===e.position)return document.body;for(var r=t;r=r.parentElement;)if(e=window.getComputedStyle(r),(!i||"static"!==e.position)&&o.test(e.overflow+e.overflowY+e.overflowX))return r;return document.body})),Object(a.a)(this,"scrollParentToTarget",(function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],r=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],n=arguments.length>5&&void 0!==arguments[5]&&arguments[5];if(t){var a=s._getScrollParent(t);if(a!==document.body){s.options.dpDebugEn&&console.log("Scroll parent: "+a);var l=a.getBoundingClientRect(),u=c.a.getElBoundingBox(t,!1,!0,null,l.top-a.scrollTop,l.left-a.scrollLeft),h={left:a.scrollLeft,top:a.scrollTop};o&&$(a).hasScrollBar(!1,!0)&&(!r||u.top<=a.scrollTop||u.right>=a.scrollTop+l.height)&&(h.top=u.top,1.5*u.height<l.height&&(h.top-=n?l.height-1.5*u.height:u.height/2)),i&&$(a).hasScrollBar(!0,!1)&&(!r||u.left<=a.scrollLeft||u.right>=a.scrollLeft+l.width)&&(h.left=u.left,1.5*u.width<l.width&&(h.left-=n?l.width-1.5*u.width:u.width/2)),h.left===a.scrollLeft&&h.top===a.scrollTop||(e?$(a).animate({scrollLeft:h.left,scrollTop:h.top},{duration:100,easing:s.options.scrollEasing,complete:function(){return $(t).addClass(O.bulletPulse)}}):(a.scrollLeft=h.left,a.scrollTop=h.top))}}})),Object(a.a)(this,"getProgressInPercent",(function(){return parseInt(s._currentStep+1,10)/(s.introItems.length-s.getNotVisibleStepCnt())*100})),Object(a.a)(this,"afterScrollOnNewTarget",(function(t,e){s.isScrolling=!1;var i=!1;if(s.finalizeAfterScroll&&(s.finalizeAfterScroll=!1,i=!s.finalizeScrollAndPosition()),s.tooltipReferenceLayer&&!s.ending&&!i){s.actualizeStickyBullets(),$(s.overlayLayer).css("opacity",s.options.overlayOpacity);var o=s.isStickyTheme(),r=$(s.mainElement).hasClass("".concat(O.main,"--on-top"));t||s.doAction(k.afterStepChange,{isStickyTheme:o,isStickyThemeOnTop:r&&o,backward:e,currentStepObj:s.stepObject4Hooks(s.currentTargetItem)})}})),Object(a.a)(this,"_scrollTo",(function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];s.options.dpDebugEn&&console.log("Scroll to: ",t);var o=!1;if(s.currentFlyingObjectBB){var r=c.a.boundingBox2RelativeScrollPos(s.currentFlyingObjectBB),n=c.a.area(r),a=c.a.intersect(r,s.maxScreenArea);a&&c.a.area(a)===n&&(o=!0)}if(null===t.x&&null===t.y||(s.isUserScrolling||o)&&e)s.actualizeBulletScrollBar(!0,i),s.afterScrollOnNewTarget(e,i);else{var l=!1,u=!1,h=!1,d=s.options.scrollDurationMsOverride>=0?s.options.scrollDurationMsOverride:s._calculateScrollTimeToTargetEl(t);d>1.5*s.overlayTransitionDelayMs?$(s.overlayLayer).css("opacity",s.options.overlayOpacityCoefWhenScroll*s.options.overlayOpacity):l=!0;var p={};null!==t.x&&(p.scrollLeft=t.x),null!==t.y&&(p.scrollTop=t.y),s.isScrolling=!0,s.finalizeAfterScroll=!0,$("html").animate(p,{duration:d,easing:s.options.scrollEasing,complete:function(){return s.afterScrollOnNewTarget(e,i)},progress:function(t,e,o){.7*o<=s.overlayTransitionDelayMs&&(u||(u=!0,s.actualizeBulletScrollBar(!0,i)),l||(l=!0,$(s.overlayLayer).css("opacity",s.options.overlayOpacity)),h||(h=!0,s.tryToFinalizeStickyNumberPosition()))}})}})),Object(a.a)(this,"scrollToTargetItem",(function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=s._getScrollOffset(t,!1);s._scrollTo(o,e,i)})),Object(a.a)(this,"refresh",(function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return s.currentTargetItem&&(s.options.dpDebugEn&&console.log("-------------------  STEP REFRESH ".concat(s.currentTargetItem.step," -------------------")),s.showStepItem(s.currentTargetItem,!0,!1,t)),s})),Object(a.a)(this,"showStepItem",(function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];e&&!o||$("html").stop(!0,!1);var r=0;s.onBeforeShowStepCallback instanceof Function&&(r=s.onBeforeShowStepCallback(s,t,e)),s.stopFollowTarget(),r>0?setTimeout((function(){s.mainThread(t,e,i,o)}),r):s.mainThread(t,e,i,o)})),Object(a.a)(this,"mainThread",(function(t,e){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];s.options.dpDebugEn&&console.log("-------------------  STEP ".concat(t.step," -------------------")),s.tryUnlockActualizeTarget((function(){s.currentFlyingObjectBB=null,s.isCurrentBackward=i,s.actualizeBoardSizes(),s.actualizeTargetItem(t,i,!o&&!e)&&(o||s.reInitTarget(t),s.reInitLayers(!1,t),s.scrollParentToTarget(null==t?void 0:t.element),s.setTargetBBs(t),s.actualizeUserInteraction(t),s.refreshStepNumber(t),s.setTooltipContent(t),s.setLayerPosition(s.highlightLayer,null,null,!0),s.setLayerPosition(s.tooltipReferenceLayer),s.setTargetElementClasses(t.element),s.fixTargetLowContrast(t),s.actualizeButtons(),s.actualizeBulletsNavig(t),s.actualizeAutoFocus(e),s.actualizeProgressBar(),s.placeTooltip(t),s.startFollowTarget(),s.scrollToTargetItem(t,o,i),s.showIntroLayers())}),!0)})),this.VERSION="2.0.0",i.dpDebugEn&&console.log("DPIntroCore "+this.VERSION),this.mainCfg=i,this.mainElement=e;var h=$(this.mainElement).closest("."+O.wrapper);this.dpIntroWrapper=h.length?h[0]:null,this.introItems=[],this.isPortraitOrientation=null,this.activeControl="next",this.paddingExtensionSize={lr:0,tb:0},this.hookBaseArgs={tourId:n,currentUrl:new URL(window.location)},$.fn.hasScrollBar=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=this.get(0).scrollWidth>this.get(0).clientWidth,o=this.get(0).scrollHeight>this.get(0).clientHeight;return t&&e?i&&i:t?i:e?o:void 0},this.options={dpDebugEn:i.dpDebugEn,labeling:{nextLabel:"Next",prevLabel:"Back",skipLabel:"Cancel",doneLabel:"Done",button_arrows:"vector"},hide_previous_step_button:!1,disable_navigation_by_bullets:!1,hideNextAlways:!1,hidePrev:!0,hideNext:!0,hide_skip_button:!1,tooltipClass:"",highlightClass:"",exitOnEsc:!0,exitOnOverlayClick:!0,showStepNumbers:!0,keyboardNavigation:!0,showButtons:!0,showBullets:!0,showProgress:!1,scrollToElement:!0,tooltipDistanceFromTarget:7,windowMarginCoef:{x:.3,y:.3},targetExtendPaddingPercent:10,targetExtendPaddingMaxPx:12,scrollTo:"all",overlayOpacity:.8,overlayOpacityCoefWhenScroll:.7,overlayBlurred:!1,positionPrecedence:["bottom","top","right","left","center"],enable_interaction:"1",buttonClass:O.button,controlsAutoFocusEnable:!0,centerTopBottomPosOffset:80,scrollSpeedPerPageMs:300,maxScrollSpeedPerPageMs:550,max_tooltip_width:0,leave_overlay_always:!1,customTextStylesEn:!0,scrollEasing:"swing",scrollDurationMsOverride:-1,goldenRatioPosAlgEn:!0,followTargetEn:!0,resizeRefreshEn:!0},this.arrowSizes={width:30,height:30},this.actualizeBoardSizes(),this.docResizeObserver=new ResizeObserver(this.actualizeBoardSizes)}return Object(n.a)(t,[{key:"doAction",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.isThisInRun()&&B.a.doAction(t,S(S({},this.hookBaseArgs),{},{currentStepObj:this.stepObject4Hooks(this.currentTargetItem)},e))}},{key:"stepObject4Hooks",value:function(t){var e;if(!t)return null;var i={index:t.step,tooltipContent:t.intro,tooltipPosition:t.position||"auto",element:t.isDummyElement?null:t.element,selector:t.selector,isEnabledInteraction:1==(null===(e=t.enable_interaction)||void 0===e?void 0:e.val)};return void 0!==t.url&&(i=S(S({},i),{},{url:t.url,altMobileSelector:t.alt_mobile_selector,isInMobileMenu:1==t.is_in_mobile_menu,skipOnBigScreen:1==t.skip_on_big_screen,skipOnMobile:1==t.skip_on_mobile})),i}},{key:"actualizeDpWrapperSize",value:function(){$(this.dpIntroWrapper).height(this.docBB.height),$(this.dpIntroWrapper).width(this.docBB.width)}},{key:"pauseFollowTarget",value:function(){this.wasFollowTargetEnabled=this.isFollowTargetEnabled,this.stopFollowTarget()}},{key:"restoreFollowTarget",value:function(){this.wasFollowTargetEnabled&&this.startFollowTarget()}},{key:"stopFollowTarget",value:function(){this.isFollowTargetEnabled&&this.options.dpDebugEn&&console.log("un-follow"),this.isFollowTargetEnabled=!1,clearInterval(this.followTargetInterval),this.followTargetInterval=null}},{key:"initSteps",value:function(){var t=this,e=[];this.options.steps&&this._forEach(this.options.steps,(function(i){var o=t._cloneObject(i);o.step=e.length+1,o.selector=o.element,t.actualizeTargetItemCore(o,!1,!0),o.scrollTo=o.scrollTo||t.options.scrollTo,void 0===o.enable_interaction&&(o.enable_interaction={val:t.options.enable_interaction}),null!==o.element&&e.push(o)}));for(var i=[],o=0;o<e.length;o++)e[o]&&i.push(e[o]);return(e=i).sort((function(t,e){return t.step-e.step})),e}},{key:"_onOverlayClick",value:function(){!0===this.options.exitOnOverlayClick&&this._exitIntro("skip"),this.doAction(k.onOverlayClick)}},{key:"setOptions",value:function(t){this.options=S(S({},this.options),t)}},{key:"nextStepOnLastStep",value:function(){this._exitIntro("complete")}},{key:"hideIntroLayers",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];this.pauseFollowTarget(),this.hideLayers(o,i,this.highlightLayer,this.disableInteractionLayer,this.tooltipReferenceLayer),t&&this.hideOverlay(),$(this.dpIntroWrapper).css("pointer-events","none"),e&&Object(u.i)(this.dpIntroWrapper,o,i)}},{key:"showIntroLayers",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e&&$(this.dpIntroWrapper).css("pointer-events","unset"),this.showLayers(this.highlightLayer,this.tooltipReferenceLayer,this.disableInteractionLayer,this.dpIntroWrapper),t&&!this.hasTargetItemHiddenOverlay(this.currentTargetItem)&&this.showOverlay(),this.restoreFollowTarget()}},{key:"_exitIntro",value:function(t){this.exitIntro(!1,!1,t)}},{key:"exitIntroFinal",value:function(){$(this.mainElement).empty(),this.highlightLayer=null,this.overlayContainer=null,this._currentStep=void 0}},{key:"isInRun",value:function(){return $(document.documentElement).hasClass(O.tourInRun)}},{key:"isThisInRun",value:function(){return this.isInRun()&&$(this.dpIntroWrapper).hasClass(O.tourInRun)}},{key:"setTargetBBs",value:function(t){if(t&&t.element){var e,i;this.targetPureBB=c.a.getElBoundingBox(t.element,!1,t.isFixedPos);var o={tb:Math.ceil(this.targetPureBB.height*this.options.targetExtendPaddingPercent/100),lr:Math.ceil(this.targetPureBB.width*this.options.targetExtendPaddingPercent/100)};this.actualizeNumberBB();var r={tb:this.numberLayerBB?this.numberLayerBB.height/4:0,lr:this.numberLayerBB?this.numberLayerBB.width/4:0},n={tb:this.numberLayerBB?this.numberLayerBB.height/3:this.options.targetExtendPaddingMaxPx,lr:this.numberLayerBB?this.numberLayerBB.width/3:this.options.targetExtendPaddingMaxPx};if(this.paddingExtensionSize={tb:Math.max(Math.min(o.tb,n.tb),r.tb),lr:Math.max(Math.min(o.lr,n.lr),r.lr)},this.targetBB=c.a.extendBB(this.targetPureBB,this.paddingExtensionSize.tb,this.paddingExtensionSize.lr),this.actualizeBoardSizes(),this.docBB){var a=c.a.intersect(this.targetBB,this.docBB);a&&(this.targetBB=a)}return this.visualizeBB("dpit-vis-target-bb",this.targetBB,"rgba(0, 0, 255, 0.3)",null===(e=this.currentTargetItem)||void 0===e?void 0:e.isFixedPos,!(null!==(i=this.currentTargetItem)&&void 0!==i&&i.isFixedPos)),this.targetBB}return!1}},{key:"unsubscribeEvent",value:function(t,e){this.subscribeEvent(t,e,!0)}},{key:"subscribeEvent",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("function"!=typeof e)throw new Error("Provided callback for ".concat(t," was not a function."));if(!(t in k))throw new Error("Provided event name ".concat(t," was not recognized. Choose from: ").concat(k.values().join(",")));i?B.a.removeAction(t,e):B.a.addAction(t,e)}},{key:"activateBullet",value:function(t){$(this.bulletsLayer).find("li.active").removeClass("active"),$(this.bulletsLayer).find('li[data-step-number="'.concat(t,'"]')).addClass("active").attr("aria-selected","true")}},{key:"setNotVisibleRefBullet",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e?$(this.bulletsLayer).find('li[data-step-number="'.concat(t,'"]')).addClass("not-visible-ref"):($(this.bulletsLayer).find('li[data-step-number="'.concat(t,'"]')).removeClass("not-visible-ref"),this.visibleLastStep&&t>this.visibleLastStep&&(this.visibleLastStep=t),this.visibleFirstStep&&t<this.visibleFirstStep&&(this.visibleFirstStep=t))}},{key:"getNotVisibleStepCnt",value:function(){return $(this.bulletsLayer).find("li.not-visible-ref").length}},{key:"actualizeScreenArea",value:function(){var t,e;this.maxScreenArea=this.getMaxBoardBB(!1,null===(t=this.currentTargetItem)||void 0===t?void 0:t.isFixedPos,this.targetBB,!0),this.visualizeBB("dpit-vis-max-screen-board-bb",this.maxScreenArea,"rgba(255,0,255,0.2)",!0,null===(e=this.currentTargetItem)||void 0===e?void 0:e.isFixedPos,!1)}},{key:"hasOrientationChanged",value:function(t,e){return this.isScreenPortraitOrientation(t)!==this.isScreenPortraitOrientation(e)}},{key:"isBigResizeChange",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.4,o=c.a.area(t),r=c.a.area(e);return Math.abs(o-r)>i*o}},{key:"getResizeAction",value:function(t,e){var i=P,o=this.hasOrientationChanged(t,e),r=this.isBigResizeChange(t,e);return o||t.height==this.winBB.height||r?(o||r)&&(i=j):t.width===this.winBB.width?(i=I,t.height,this.winBB.height):i=P,i}},{key:"resizeRefresh",value:function(t,e){var i=this.getResizeAction(t.currentWinSize,t.oldWinSize);if(this.winBB=S({},t.currentWinSize),this.pauseFollowTarget(),this.actualizeBoardSizes(),!this._isIframeInTooltip||this.tooltipBB.width===this.tooltipBBRel.width)switch(this.options.dpDebugEn&&console.log("Resize:",t,"Action:",i),this.doAction(k.onResize,t),i){case j:this.refresh();break;case P:this._actualizeTargetPositionBasic(this.currentTargetItem,!1,!1,!0,!1)}e&&this.showIntroLayers(),this.tooltipBBRel=this.tooltipBB,this.restoreFollowTarget()}},{key:"isScreenPortraitOrientation",value:function(t){return!!t&&t.height>t.width}},{key:"restartResizeTimeout",value:function(){var t,e=this,i=Object(u.h)(null===(t=this.mainCfg.mobile_break_points)||void 0===t?void 0:t.mobile),o=this.hasOrientationChanged(i,this.oldWinBB)||i.width!==this.oldWinBB.width;o&&this.hideIntroLayers(),this._resizeTimeout&&clearTimeout(this._resizeTimeout),this._resizeTimeout=setTimeout((function(){var t,i;e.resizeRefresh({oldWinSize:e.oldWinBB,currentWinSize:Object(u.h)(null===(t=e.mainCfg.mobile_break_points)||void 0===t?void 0:t.mobile),oldSize:e.oldDocBB,currentSize:Object(u.e)(null===(i=e.mainCfg.mobile_break_points)||void 0===i?void 0:i.mobile)},o),e._resizeTimeout=null}),300)}},{key:"_onKeyDown",value:function(t){if(this.options.keyboardNavigation){var e,i,o=null!==(e=t.key)&&void 0!==e?e:t.keyCode,r=this.isHideNextByCurrentStepMeta();null!==(i=o)&&void 0!==i||(o=t.charCode);var n=this.introItems.length-1===this._currentStep;if("Escape"!==o&&27!==o||!0!==this.options.exitOnEsc){if("ArrowLeft"===o||37===o)this.options.hide_previous_step_button||this.previousStep();else if("ArrowRight"===o||39===o)this.options.hideNextAlways||n||r||this.nextStep();else if("Enter"===o||13===o){var a=t.target||t.srcElement;this.options.hide_previous_step_button||a!==this.buttonPrevLayer?a===this.buttonSkipLayer?this._exitIntro("complete"):a&&a.getAttribute("data-step-number")?a.click():this.options.hideNextAlways||n||r||this.nextStep():this.previousStep(),t.preventDefault?t.preventDefault():t.returnValue=!1}}else this._exitIntro("skip")}}},{key:"visualizeBB",value:function(t,e){}},{key:"actualizeNumberBB",value:function(){var t;this.numberLayer&&(this.numberLayerBB=c.a.getElBoundingBox(this.numberLayer,!1,null===(t=this.currentTargetItem)||void 0===t?void 0:t.isFixedPos))}},{key:"_placeNumberLayerOnTooltipInFixedBottomTheme",value:function(t){var e,i;$(this.numberLayer).addClass(O.numberOnTooltip),$(this.tooltipLayer).addClass(O.tooltipWithNumber),$(this.numberLayer).css({top:(null===(e=$(this.tooltipLayer).position())||void 0===e?void 0:e.top)+(null===(i=$(this.tooltipTextLayer).position())||void 0===i?void 0:i.top)+Object(u.c)(this.tooltipTextLayer,"padding-top","5")+"px",left:.5*t.width+"px"})}},{key:"isNumberCloseToTooltip",value:function(t,e,i){if(!this.isStickyTheme()){var o=i?Object(u.f)(e):e;if(o===t.x)if(i){if(this.tooltipBB.top+this.numberLayerBB.height>this.targetBB.top)return!0;if(this.tooltipBB.bottom-this.numberLayerBB.height<this.targetBB.bottom)return!0}else{if(this.tooltipBB.top-this.numberLayerBB.height<this.targetBB.top)return!0;if(this.tooltipBB.bottom+this.numberLayerBB.height>this.targetBB.bottom)return!0}else if(o===t.y)if(i){if(this.tooltipBB.left+this.numberLayerBB.width>this.targetBB.left)return!0;if(this.tooltipBB.right-this.numberLayerBB.width<this.targetBB.right)return!0}else{if(this.tooltipBB.left-this.numberLayerBB.width<this.targetBB.left)return!0;if(this.tooltipBB.right+this.numberLayerBB.width>this.targetBB.right)return!0}}return!1}},{key:"adjustFixedPositionsOutOfWindow",value:function(t){if(null!=t&&t.isFixedPos){if(this.tooltipBB.bottom>this.maxScreenArea.bottom){var e=this.tooltipTextLayer.style.maxHeight,i=$(this.tooltipTextLayer).height(),o=Math.max(i-(this.tooltipBB.bottom-this.maxScreenArea.bottom),50);this.tooltipTextLayer.style.maxHeight=o+"px",this.tooltipBB=c.a.getElBoundingBox(this.tooltipLayer,!1,null==t?void 0:t.isFixedPos);var r=this.tooltipBB.bottom>this.maxScreenArea.bottom;return r&&(this.tooltipTextLayer.style.maxHeight=e),r}if(this.tooltipBB.top<this.maxScreenArea.top){var n=this.tooltipTextLayer.style.maxHeight,a=$(this.tooltipLayer).offset().top,s=$(this.tooltipTextLayer).height(),l=Math.max(s-(this.maxScreenArea.top-this.tooltipBB.top),50);this.tooltipTextLayer.style.maxHeight=l+"px",$(this.tooltipLayer).offset({top:$(this.tooltipLayer).offset().top+s-l}),this.tooltipBB=c.a.getElBoundingBox(this.tooltipLayer,!1,null==t?void 0:t.isFixedPos);var u=this.tooltipBB.top<this.maxScreenArea.top;return u&&(this.tooltipTextLayer.style.maxHeight=n,$(this.tooltipLayer).offset({top:a})),u}}return!1}},{key:"getMinimalTooltipWidth",value:function(){var t=$(this.buttonSkipLayer).outerWidth()+$(this.buttonPrevLayer).outerWidth()+$(this.buttonNextLayer).outerWidth()+2*Object(u.c)(this.tooltipLayer,"padding-left",20)+20;return isNaN(t)?300:t}},{key:"_disableInteraction",value:function(){this.disableInteractionLayer||(this.disableInteractionLayer=document.createElement("div"),this.disableInteractionLayer.className=O.disableInteraction,this.mainElement.appendChild(this.disableInteractionLayer)),this.updateIterateAfter(this.currentTargetItem),this.setLayerPosition(this.disableInteractionLayer)}},{key:"_enableInteraction",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.disableInteractionLayer&&(this.disableInteractionLayer.parentNode.removeChild(this.disableInteractionLayer),this.disableInteractionLayer=null),this.updateIterateAfter(this.currentTargetItem,t)}},{key:"_isInteractionEnabled",value:function(){return!this.disableInteractionLayer}},{key:"isStepItemInMobileMenu",value:function(t){return t.is_mobile_menu_active_element&&t.alt_mobile_selector}},{key:"hasTargetItemHiddenOverlay",value:function(t){var e;return!!t&&(t&&t.element&&"1"==t.enable_interaction.val&&!t.isDummyElement&&"1"==(null===(e=t.enable_interaction.ext)||void 0===e?void 0:e.hide_overlay))}},{key:"updateIterateAfter",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.updateIterateAfterClick(t,e),this.updateIterateAfterHover(t,e)}},{key:"updateIterateAfterClick",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t&&t.element&&($(t.element).off("mousedown",this.iterateStepAfterUserAction),$(t.element).off("mousedown",this.stopClickPropagation),$(t.element).off("click",this.stopClickPropagation),$(t.element).off("mouseup",this.stopClickPropagation),$(t.element).removeClass(O.targetClick),$(t.element).removeClass(O.targetBlockEvents)),e||(this.isIterateAfterClick(t)&&($(t.element).on("mousedown",this.iterateStepAfterUserAction),$(t.element).addClass(O.targetClick)),this.isStopClickPropagation(t)&&($(t.element).on("mousedown",this.stopClickPropagation),$(t.element).on("click",this.stopClickPropagation),$(t.element).on("mouseup",this.stopClickPropagation)))}},{key:"isIterateAfterClick",value:function(t){var e;return t&&t.element&&"1"==t.enable_interaction.val&&!t.isDummyElement&&"1"==(null===(e=t.enable_interaction.ext)||void 0===e?void 0:e.iterate_after_click)}},{key:"isStopClickPropagation",value:function(t){var e;return t&&t.element&&"1"==t.enable_interaction.val&&!t.isDummyElement&&"1"==(null===(e=t.enable_interaction.ext)||void 0===e?void 0:e.iterate_after_click_stop_propagation)}},{key:"updateIterateAfterHover",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t&&t.element&&$(t.element).off("mouseenter",this.iterateStepAfterUserAction).removeClass("dpit-target--hover"),!e&&this.isIterateAfterHover(t)&&$(t.element).on("mouseenter",this.iterateStepAfterUserAction).addClass("dpit-target--hover")}},{key:"isIterateAfterHover",value:function(t){var e;return t&&t.element&&"1"==t.enable_interaction.val&&!t.isDummyElement&&"1"==(null===(e=t.enable_interaction.ext)||void 0===e?void 0:e.iterate_after_hover)}},{key:"isHideNextByCurrentStepMeta",value:function(){var t;return this.currentTargetItem&&this.currentTargetItem.element&&"1"==this.currentTargetItem.enable_interaction.val&&!this.currentTargetItem.isDummyElement&&"1"==(null===(t=this.currentTargetItem.enable_interaction.ext)||void 0===t?void 0:t.hide_next_btn)}},{key:"getIsMobileSize",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return this.options.mobileBreakpoints&&this.winBB.width<=(t||this.options.mobileBreakpoints.mobile)}},{key:"_shouldBeStepSkipped",value:function(t,e){var i=!1;return!this.options.skip_absent_ref_el||!(t.selector||e&&t.alt_mobile_selector)||t.element&&$(t.element).is(":visible")&&this.isElementInsideDocBoard(t.element)||(i=!0),i}},{key:"isElementInsideDocBoard",value:function(t){if(this.docBB&&t){var e=c.a.getElBoundingBox(t,!1,!1);return null!==c.a.intersect(e,this.docBB)}return!0}},{key:"isElementInsideMaxScreenArea",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this.maxScreenArea&&t){var i=c.a.getElBoundingBox(t,!1,e);return null!==c.a.intersect(i,this.maxScreenArea)}return!0}},{key:"_isElementHidden",value:function(t){return null===t.offsetParent}},{key:"getHighlightLayerClass",value:function(t){var e;return m()((e={},Object(a.a)(e,O.highlight,!0),Object(a.a)(e,null==t?void 0:t.highlightClass,t&&"string"==typeof t.highlightClass&&t.highlightClass),Object(a.a)(e,this.options.highlightClass,"string"==typeof this.options.highlightClass&&this.options.highlightClass),e))}},{key:"reInitLayers",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=this.getHighlightLayerClass(e);this.highlightLayer?this.highlightLayer.className=i:(this.initLayers(i),this.actualizeBoardSizes()),$(this.tooltipTextLayer).removeClass(O.tooltipText+"--compact"),e&&($(document.documentElement).addClass("dpit-step-"+e.step),this.mainElement.setAttribute("id","dpit-step-"+e.step),this.tooltipLayer.setAttribute("id","dpit-tooltip-step-"+e.step),this.highlightLayer.setAttribute("id","".concat(O.highlight,"-step-").concat(e.step)),e.isDummyElement&&$(this.highlightLayer).addClass("highlight-dummy")),this.hideIntroLayers(t),$(this.numberLayer).removeClass(O.numberOnTooltip),$(this.tooltipLayer).removeClass(O.tooltipWithNumber)}},{key:"actualizeUserInteraction",value:function(t){t&&"1"!=t.enable_interaction.val&&!t.isDummyElement?this._disableInteraction():this._enableInteraction()}},{key:"getStartStepIdx",value:function(){return this.visibleFirstStep?this.visibleFirstStep:0}},{key:"getEndStepIdx",value:function(){return this.visibleLastStep?this.visibleLastStep:this.introItems.length-1}},{key:"setTooltipContent",value:function(t){this.tooltipTextLayer.innerHTML=t?t.intro_proc||t.intro:"",this.checkTooltipIFrames(this.tooltipTextLayer.innerHTML)}},{key:"actualizeStickyBullets",value:function(){var t=this.isStickyTheme();if($(this.bulletsLayer).removeClass("".concat(O.bullets,"--hidden")),t&&this.bulletsLayer&&!this.currentTargetItem.isDummyElement){var e=c.a.getElBoundingBox(this.bulletsLayer);c.a.intersect(e,this.currentFlyingObjectBB)&&$(this.bulletsLayer).addClass("".concat(O.bullets,"--hidden"))}}},{key:"actualizeBulletScrollBar",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=$(this.bulletsLayer).children("ul");if(i)if($(i).hasScrollBar(!0,!1)){if($(i).addClass("dpit-has-scrollbar"),t){var o=i.children("li.active");o.length&&this.scrollParentToTarget(o.get(0),!0,!0,!1,!0,e)}}else $(i).removeClass("dpit-has-scrollbar")}},{key:"actualizeButtons",value:function(){var t,e,i,o=this.isHideNextByCurrentStepMeta(),r=this.getEndStepIdx()<=this._currentStep,n=this._currentStep<=this.getStartStepIdx();n&&this.introItems.length>1?this.activeControl="next":r&&(this.activeControl="skip");var s=m()((t={},Object(a.a)(t,this.options.buttonClass,!0),Object(a.a)(t,O.buttonPrev,!0),Object(a.a)(t,O.disabled,n),Object(a.a)(t,O.noTrans,!0),t)),l=m()((e={},Object(a.a)(e,this.options.buttonClass,!0),Object(a.a)(e,O.buttonNext,!0),Object(a.a)(e,O.disabled,r||o),Object(a.a)(e,O.noTrans,!0),e)),u=m()((i={},Object(a.a)(i,this.options.buttonClass,!0),Object(a.a)(i,O.buttonSkip,!0),Object(a.a)(i,O.buttonDone,r),Object(a.a)(i,O.noTrans,!0),i)),c=r?this.options.labeling.doneLabel:this.options.labeling.skipLabel;if(this.buttonPrevLayer&&(this.buttonPrevLayer.className=s),this.buttonNextLayer&&(this.buttonNextLayer.className=l),void 0!==this.buttonSkipLayer&&null!==this.buttonSkipLayer){var h=this.isStickyTheme();this.buttonSkipLayer.className=u,this.buttonSkipLayer.setAttribute("title",h&&!r?c:""),this.buttonSkipLayer.innerHTML=h&&!r?"":c}this.options.disable_navigation_by_bullets?$(this.bulletsLayer).addClass(O.bullets+"--pointer-events-none"):$(this.bulletsLayer).removeClass(O.bullets+"--pointer-events-none"),this.introItems.length>1?(this.options.showBullets&&$(this.bulletsLayer).slideDown(),!0===this.options.showProgress&&$(this.progressLayer).slideDown()):($(this.bulletsLayer).slideUp(),$(this.progressLayer).slideUp()),$(".".concat(O.button)).removeClass(O.noTrans)}},{key:"_removeInlineProp",value:function(t,e){t.style.removeProperty?t.style.removeProperty(e):t.style.removeAttribute(e)}},{key:"createButtonContent",value:function(t){var e=document.createElement("div");return e.className=O.buttonText,e.innerHTML=t,e}},{key:"loadIcons",value:function(){var t=this;switch(this.options.labeling.button_arrows){case"vector":$("."+O.button+" ."+O.buttonIco).length||i.e(5).then(i.bind(null,179)).then((function(e){var i=e.default(O.buttonIco);i&&($(i).appendTo(t.buttonNextLayer),$(i).prependTo(t.buttonPrevLayer))}));break;case"text":$('<span class="'+O.buttonTextIco+'"> &rarr;</span>').appendTo(this.buttonNextLayer),$('<span class="'+O.buttonTextIco+'">&larr; </span>').prependTo(this.buttonPrevLayer);break;default:var e=document.createElement("div");e.className=O.buttonSpacer,$(e).appendTo(this.buttonNextLayer),(e=document.createElement("div")).className=O.buttonSpacer,$(e).prependTo(this.buttonPrevLayer)}}},{key:"initLayers",value:function(t){this.highlightLayer=document.createElement("div"),this.highlightLayer.className=t,this.highlightLayer.setAttribute("role","presentation"),this.inHighlightLayerAnimation=new y.a("."+t,"in-highlight-bullets-anim",[O.rbAnim,"".concat(O.rbAnim,"--in-highlight")],3,100),this.mainElement.appendChild(this.highlightLayer),this.tooltipReferenceLayer=document.createElement("div"),this.tooltipReferenceLayer.className=O.tooltipReference,this.tooltipReferenceLayer.setAttribute("role","presentation"),this.mainElement.appendChild(this.tooltipReferenceLayer),this.tooltipLayer=document.createElement("div"),this.actualizeTooltipMaxWidth(),this.tooltipLayer.className=O.tooltip,this.tooltipLayer.setAttribute("aria-label",Object(u.j)("aria-main",this.mainCfg.i18n)),this.tooltipLayer.setAttribute("aria-hidden","false"),this.tooltipLayer.setAttribute("role","dialog"),this.tooltipLayer.setAttribute("aria-describedby","dpit-tooltip-text"),this.tooltipReferenceLayer.appendChild(this.tooltipLayer),this.tooltipTextLayer=document.createElement("div"),this.tooltipTextLayer.className=O.tooltipText,this.tooltipTextLayer.id="dpit-tooltip-text",this.tooltipLayer.appendChild(this.tooltipTextLayer),this.arrowLayer=document.createElement("div"),this.arrowLayer.className=O.arrow,this.arrowLayer.setAttribute("role","presentation"),this.tooltipReferenceLayer.appendChild(this.arrowLayer),this.progressLayer=document.createElement("div"),this.progressLayer.className=O.progress,!0!==this.options.showProgress&&(this.progressLayer.style.display="none"),this.progressBarLayer=document.createElement("div"),this.progressBarLayer.className=O.progressBar,this.progressBarLayer.setAttribute("role","progress"),this.progressBarLayer.setAttribute("aria-valuemin",0),this.progressBarLayer.setAttribute("aria-valuemax",100),this.progressBarLayer.setAttribute("aria-valuenow",this.getProgressInPercent()),this.progressBarLayer.style.cssText="width:"+this.getProgressInPercent()+"%;",this.progressLayer.appendChild(this.progressBarLayer),this.tooltipLayer.appendChild(this.progressLayer),this.bulletsLayer=this.createBullets(O.bullets,this.options.showBullets,!0,0,this._bulletClickCallback),this.actualizeBulletScrollBar(),this.tooltipLayer.appendChild(this.bulletsLayer),this.tooltipButtonsLayer=document.createElement("div"),this.tooltipButtonsLayer.className=O.tooltipButtons,!1===this.options.showButtons?this.tooltipButtonsLayer.style.display="none":(this.tooltipButtonsLayer.setAttribute("role","navigation"),this.tooltipButtonsLayer.setAttribute("aria-label",Object(u.j)("aria-main",this.mainCfg.i18n))),this.tooltipLayer.appendChild(this.tooltipButtonsLayer),this.numberLayer=document.createElement("div"),this.numberLayer.className=O.number+" "+O.hiddenByOpacityAndWidth,this.tooltipReferenceLayer.appendChild(this.numberLayer),!0!==this.options.showStepNumbers?$(this.numberLayer).addClass(O.hiddenByOpacityAndWidth):this.numberLayer.setAttribute("aria-label",Object(u.j)("aria-main",this.mainCfg.i18n)+" - "+Object(u.j)("aria-step-num",this.mainCfg.i18n)),this.buttonNextLayer=document.createElement("div"),this.buttonNextLayer.className=[O.button,O.buttonNext].join(" "),$(this.buttonNextLayer).on("click",this.goToNextStep.bind(this)),this._setAsButton(this.buttonNextLayer,this.options.labeling.nextLabel),this.buttonNextLayer.appendChild(this.createButtonContent(this.options.labeling.nextLabel)),this.buttonPrevLayer=document.createElement("div"),this.buttonPrevLayer.className=[O.button,O.buttonPrev].join(" "),$(this.buttonPrevLayer).on("click",this.goToPreviousStep.bind(this)),this._setAsButton(this.buttonPrevLayer,this.options.labeling.prevLabel),this.buttonPrevLayer.appendChild(this.createButtonContent(this.options.labeling.prevLabel)),this.buttonSkipLayer=document.createElement("div"),this.buttonSkipLayer.className=[O.button,O.buttonSkip].join(" "),this._setAsButton(this.buttonSkipLayer,this.options.labeling.skipLabel),this.buttonSkipLayer.innerHTML=this.options.labeling.skipLabel,$(this.buttonSkipLayer).on("click",this.onSkipButtonClick.bind(this)),this.tooltipButtonsLayer.appendChild(this.buttonSkipLayer),this.introItems.length>=1&&(this.tooltipButtonsLayer.appendChild(this.buttonPrevLayer),this.tooltipButtonsLayer.appendChild(this.buttonNextLayer)),$("html").on("scroll wheel DOMMouseScroll mousewheel touchmove",this.stopAutoScrollWhenUserAction.bind(this)),this.refreshStepNumber(),this.doAction(k.onInit),this.loadIcons()}},{key:"actualizeTooltipMaxWidth",value:function(){this.tooltipLayer&&(!this.options.max_tooltip_width||isNaN(this.options.max_tooltip_width)||this.maxScreenArea&&!(this.options.max_tooltip_width<this.maxScreenArea.width)||this.isStickyTheme()?this.tooltipLayer.style.maxWidth="":this.tooltipLayer.style.maxWidth=this.options.max_tooltip_width+"px")}},{key:"stopAutoScrollWhenUserAction",value:function(){var t=this;this.isUserScrolling=!0,this.userInteractTimeout&&clearTimeout(this.userInteractTimeout),this.userInteractTimeout=setTimeout((function(){t.isUserScrolling=!1}),200)}},{key:"onSkipButtonClick",value:function(){this._exitIntro("skip")}},{key:"refreshStepNumber",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;!0===this.options.showStepNumbers&&this.introItems.length>1?($(this.numberLayer).removeClass(O.hiddenByOpacityAndWidth),this.numberLayer.innerHTML=t?t.step:""):$(this.numberLayer).addClass(O.hiddenByOpacityAndWidth)}},{key:"goToPreviousStep",value:function(){return 0!==this._currentStep&&(this.previousStep(),!0)}},{key:"goToNextStep",value:function(){return this.introItems.length-1!==this._currentStep&&(this.nextStep(),!0)}},{key:"getBottomScrollOffset",value:function(t,e,i,o,r){var n=this.isStickyTheme(),a=t.top-(o/2-t.height/2);return!n&&t.height-10>o&&(i.top>e.bottom?a=t.bottom-o+20:i.bottom<e.top&&(a=t.top-20)),n&&(this.isStickyThemeOnTop()?a-=r.bottom:a-=r.top),a}},{key:"_calculateScrollTimeToTargetEl",value:function(t){var e=$(window).scrollLeft(),i=$(window).scrollTop(),o=Math.max(Math.abs(e-t.x),Math.abs(i-t.y));return Math.round(Math.min(this.options.maxScrollSpeedPerPageMs,Math.max(350,o/this.winBB.height*this.options.scrollSpeedPerPageMs)))}},{key:"tryUnlockActualizeTarget",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.actualizeTargetLock?(e&&(this.processFceToRun=t),!1):t?(this.lockActualizeTarget(),t(),this.unlockActualizeTarget(),!0):void 0}},{key:"unlockActualizeTarget",value:function(){if(this.actualizeTargetLock=!1,this.processFceToRun){var t=this.processFceToRun;this.processFceToRun=null,this.tryUnlockActualizeTarget(t,!1)}}},{key:"lockActualizeTarget",value:function(){this.actualizeTargetLock=!0}},{key:"_actualizeTargetPositionBasic",value:function(t){var e=this,i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],n=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];this.highlightLayer&&this.tooltipReferenceLayer&&this.tryUnlockActualizeTarget((function(){e.isTargetFollowingFired=!0,e.pauseFollowTarget(),e.scrollParentToTarget(null==t?void 0:t.element),e.setTargetBBs(t),e.actualizeUserInteraction(t),e.setLayerPosition(e.highlightLayer,null,null,!0),e.setLayerPosition(e.tooltipReferenceLayer),e.placeTooltip(t),e.startFollowTarget();var a=e._currentStep;e.followTargetFinishedTimer&&clearTimeout(e.followTargetFinishedTimer),o?r&&e.showIntroLayers():e.followTargetFinishedTimer=setTimeout((function(){if(a===e._currentStep&&(e.options.dpDebugEn&&(n?console.log("---  STEP ".concat(e._currentStep," FOLLOW TARGET: TARGET CHANGE POSITION: STOPPED ---")):console.log("---  STEP ".concat(e._currentStep," RESIZE REACTION: STOPPED ---"))),e.currentFlyingObjectBB)){var o=c.a.intersect(e.currentFlyingObjectBB,e.maxScreenArea);(!o||c.a.area(o)<c.a.area(e.flyingObjectsBB))&&(e._actualizeTargetPosition(t,i),r&&e.showIntroLayers())}}),100)}),i)}},{key:"_actualizeTargetPosition",value:function(t){var e=this,i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.highlightLayer&&this.tooltipReferenceLayer&&this.tryUnlockActualizeTarget((function(){if(e.isTargetFollowingFired=!0,e.pauseFollowTarget(),e.actualizeTargetItem(t,e.isCurrentBackward,!1)){e.scrollParentToTarget(null==t?void 0:t.element),e.setTargetBBs(t),e.actualizeUserInteraction(t),e.setLayerPosition(e.highlightLayer,null,null,!0),e.setLayerPosition(e.tooltipReferenceLayer),e.placeTooltip(t),e.startFollowTarget();var i=e._currentStep;e.followTargetFinishedTimer&&clearTimeout(e.followTargetFinishedTimer),e.followTargetFinishedTimer=setTimeout((function(){i===e._currentStep&&(e.options.dpDebugEn&&console.log("---  STEP ".concat(e._currentStep," FOLLOW TARGET: TARGET CHANGE POSITION: STOPPED ---")),e.currentFlyingObjectBB&&(e.isScrolling?e.finalizeAfterScroll=!0:e.finalizeScrollAndPosition(!0)))}),100)}}),i)}},{key:"finalizeScrollAndPosition",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=c.a.boundingBox2RelativeScrollPos(this.currentFlyingObjectBB,!0),i=c.a.intersect(e,this.maxScreenArea);return!i||c.a.area(i)<c.a.area(this.flyingObjectsBB)?(this.refresh(t),!1):(this.tryToFinalizeStickyNumberPosition(),!0)}},{key:"tryToFinalizeStickyNumberPosition",value:function(){if(this.isStickyTheme()){var t,e=this.isElementInsideMaxScreenArea(null===(t=this.currentTargetItem)||void 0===t?void 0:t.element);if(this.isTargetElementInsideMaxScreenArea!==e){var i={x:e?"right":"left",y:"top",onTooltip:!e},o=this._getScrollOffset(this.currentTargetItem,!0),r={x:null!==o.x?o.x:$(window).scrollLeft(),y:null!==o.y?o.y:$(window).scrollTop()};this._placeNumberLayer(this.targetBB,r,this.tooltipPos,i),$(this.numberLayer).addClass(O.gelatinePulse)}this.isTargetElementInsideMaxScreenArea=e}}},{key:"_clearContrastAdjustment",value:function(){$("."+O.colorAdjusted).each((function(t,e){$(e).css("color",$(e).data("init-color")),$(e).removeClass(O.colorAdjusted)})),this.highlightLayer&&(this.highlightLayer.style.backgroundColor="")}},{key:"_setInlineStyle",value:function(t,e){t&&($(t).addClass("dpit-inline-style-adjusted"),t.style.cssText&&t.setAttribute("data-style-bkp",t.style.cssText),Object.keys(e).forEach((function(i){t.style.cssText&&";"!=t.style.cssText[t.style.cssText.length-1]&&(t.style.cssText+=";"),t.style.cssText+="".concat(i,":").concat(e[i],";")})))}},{key:"_resetInlineStyle",value:function(){$(".dpit-inline-style-adjusted").each((function(t,e){var i=$(e).data("style-bkp");e.style.cssText=i||"",$(e).removeClass("dpit-inline-style-adjusted")}))}}]),t}()},8:function(t,e,i){"use strict";i.d(e,"a",(function(){return d}));var o=i(3),r=i(2),n=i(0),a=i(18),s=i.n(a),l=i(12),u=i.n(l);function c(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,o)}return i}function h(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?c(Object(i),!0).forEach((function(e){Object(n.a)(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):c(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var d=function(){function t(e){Object(o.a)(this,t),e.dpDebugEn&&console.log("DPIncUtils")}return Object(r.a)(t,null,[{key:"isVariableUrl",value:function(t){var e=t.indexOf("{"),i=t.indexOf("}");return e>=0&&i>e}},{key:"fillUrlVariables",value:function(t,e){return t&&e&&Object.keys(t).forEach((function(i){e=s()(e,"{".concat(i,"}"),t[i])})),e}},{key:"simpleObjectToStr",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"|",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"=",o="";return t&&Object.keys(t).forEach((function(r,n){0!=n&&(o+=e),o+="".concat(r).concat(i).concat(t[r])})),o}},{key:"strToSimpleObject",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"|",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"=",o={};if(t){var r=t.split(e);r&&r.forEach((function(t){var e=t.split(i);e&&e.length>=2&&(o[e[0]]=e[1])}))}return o}},{key:"getInfoIconHtml",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return i&&(e='<strong class="info-tip-title">'.concat(i,"</strong>").concat(e)),$('<div class="'.concat(t,'"></div>')).attr("data-info-text",e)}},{key:"strLastPart",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:".",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",o=t.split(e);return o&&o.length>0?o[o.length-1]:i}},{key:"strFirstPart",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:".",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",o=t.split(e);return o&&o.length>0?o[0]:i}},{key:"rightTrimByString",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:".",i=t.indexOf(e);return i>=0?t.substring(0,i):t}},{key:"filterQMarkWithNoSlash",value:function(t){var e=t.indexOf("?");return e>=0&&(0!==e&&"/"==t[e-1]||(t="".concat(t.substring(0,e),"/").concat(t.substring(e)))),t}},{key:"forceQMarkWithoutSlash",value:function(t){var e=t.indexOf("?");return e>0&&"/"==t[e-1]&&(t=t.substring(0,e-1)+t.substring(e)),t}},{key:"sanitizePossibleRelativeUrl",value:function(e,i){var o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return e.startsWith("/")&&(e=u()(i,e),o&&(e=t.filterQMarkWithNoSlash(e))),e}},{key:"absToRelativeUrl",value:function(t,e){return e&&t.startsWith(e)&&((t=t.substring(e.length)).startsWith("/")||(t="/".concat(t))),t}},{key:"removeURLParameter",value:function(t,e){var i=t.split("?");if(i.length>=2){for(var o="".concat(encodeURIComponent(e),"="),r=i[1].split(/[&;]/g),n=r.length;n-- >0;)-1!==r[n].lastIndexOf(o,0)&&r.splice(n,1);return i[0]+(r.length>0?"?".concat(r.join("&")):"")}return t}},{key:"removeURLParameters",value:function(e,i){var o=i;return Array.isArray(i)||(o=Object.keys(i)),o.forEach((function(o){e=t.removeURLParameter(e,t.getDpUrlParamName(o,i))})),e}},{key:"unifyUrl",value:function(e){var i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],n=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],a=arguments.length>5&&void 0!==arguments[5]&&arguments[5];if(e){if((e=t.strLastPart(e,"://",e))&&e.startsWith("www.")&&(e=e.substring(4)),e&&r&&(e=t.strFirstPart(e,"#",e)),e&&i?e=t.strFirstPart(e,"?",e):o&&(e=t.filterQMarkWithNoSlash(e)),e){var l=/\/+$/;n||(l=/^\/+/g),e=e.replace(l,"")}e&&a&&(e="/".concat(e))}return e?e.endsWith("/index.php")?e=t.rightTrimByString(e,"/index.php"):i||(e=s()(e,"/index.php/?","/"),o||(e=s()(e,"/index.php?","/"))):e="/",e}},{key:"getDpUrlParamName",value:function(t,e){var i=t;return e&&(i=e[t]),i}},{key:"getDpUrlParam",value:function(e,i){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,n=r,a=t.getDpUrlParamName(e,i);return a&&(o||(o=new URL(window.location)),n=o.searchParams.get(a)),n}},{key:"setDpUrlParam",value:function(e,i,o){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],n="",a=t.getDpUrlParamName(e,i);return a&&(n=a+"="+o,r&&(n+="&")),n}},{key:"buildDpQueryString",value:function(e,i){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"?",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,n=o;if(r){var a=Object.keys(r);a.forEach((function(t){null!==r[t]&&void 0!==r[t]&&""!==r[t]&&(n+=t+"="+r[t]+"&")}))}if(e){var s=Object.keys(e);s.forEach((function(o){null!==e[o]&&void 0!==e[o]&&""!==e[o]&&(n+=t.setDpUrlParam(o,i,e[o]))}))}return n&&"&"==n[n.length-1]&&(n=n.substr(0,n.length-1)),n==o&&(n=""),n}},{key:"decodeStepParamAdvancedVal",value:function(t,e,i){var o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],n=null==i?void 0:i[e],a=null==n?void 0:n.ext,s={val:null!=t?t:null==n?void 0:n.defMain,ext:{}};if(null!=t&&t.startsWith("base64__")||a){var l=null;if(null!=t&&t.startsWith("base64__")){var u,c,d=atob(t.substr(8));l=d?JSON.parse(d):null,s.val=null!==(u=null===(c=l)||void 0===c?void 0:c.val)&&void 0!==u?u:null==n?void 0:n.defMain}a&&Object.keys(a).forEach((function(t){var e,i,o,n,u,c,d,p;r?s.ext[t]=null!==(e=null===(i=l)||void 0===i||null===(o=i.ext)||void 0===o?void 0:o[t])&&void 0!==e?e:null===(n=a[t])||void 0===n?void 0:n.def:s.ext[t]=h(h({},a[t]),{},{val:null!==(u=null===(c=l)||void 0===c||null===(d=c.ext)||void 0===d?void 0:d[t])&&void 0!==u?u:null===(p=a[t])||void 0===p?void 0:p.def})}))}else o&&(s=t);return s}},{key:"encodeStepParamAdvancedVal",value:function(t,e,i){var o;return(null==i||null===(o=i[e])||void 0===o?void 0:o.ext)?"base64__"+btoa(JSON.stringify(t)):t}},{key:"initStepParams",value:function(t){var e={};return Object.keys(t).forEach((function(i){var o="";if(t[i]&&(o=t[i].def||"",t[i].ext)){var r={};Object.keys(t[i].ext).forEach((function(e){r[e]=t[i].ext[e].def})),o={val:o,ext:r}}e[i]=o})),e}},{key:"getNthStr",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!1!==t&&!isNaN(t)){var i="",o="";e&&(i="<sup>",o="</sup>");var r="";switch(t){case 1:r="1".concat(i,"st").concat(o);break;case 2:r="2".concat(i,"nd").concat(o);break;case 3:r="3".concat(i,"rd").concat(o);break;default:r="".concat(t).concat(i,"th").concat(o)}return r}return""}},{key:"textStylesIsHOrPOption",value:function(t){return t.length>=3&&("p"===t[0]&&"_"===t[1]||"h"===t[0]&&"_"===t[2])}},{key:"textStylesIsFontFamilyVal",value:function(t){return["p_font","h_font","btn_font"].includes(t)}},{key:"setMobileSizeCoef",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;if(e){var o=i>0&&($(window).width()<=i||$(window).height()<=i)?e.mobile_size_coef/100:1;t.style.setProperty("--font-size-coef",o*e.all_in_1_size_coef/100)}}},{key:"setTextStyles",value:function(e,i){var o=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;if(i&&e){var n;t.setMobileSizeCoef(e,i,r);var a=h({},i),s=null!==(n=a.font_size_unit)&&void 0!==n?n:"em",l=[];if(Object.keys(a).forEach((function(t){o.textStylesIsFontFamilyVal(t)&&(l["--".concat(t)]=a[t]||"0"==a[t]?a[t]:"inherit")})),(a.p_font_size||"0"===a.p_font_size)&&(l["--p_font_size"]="calc("+a.p_font_size+s+"*var(--font-size-coef))",(a.p_mb||"0"===a.p_mb)&&(l["--p_mb"]="calc("+a.p_mb/100+"*"+l["--p_font_size"]+")")),a.h2_font_size||0==a.h2_font_size&&a.h5_font_size||0==a.h5_font_size)for(var u=(a.h2_font_size-a.h5_font_size)/4,c=1;c<=6;c++){var d=c-2;l["--h".concat(c,"_font_size")]="calc("+(a.h2_font_size-d*u)+s+"*var(--font-size-coef))"}if(a.h2_mb||0==a.h2_mb&&a.h5_mb||0==a.h5_mb)for(var p=(a.h2_mb-a.h5_mb)/4,g=1;g<=6;g++){var f=g-2,b=Math.round(10*(a.h2_mb-f*p))/10;l["--h".concat(g,"_mb")]="calc("+b/100+"*"+l["--h".concat(g,"_font_size")]+")",2===g&&(l["--dp_unit"]="calc("+1.3*b/1e3+"*"+l["--h".concat(g,"_font_size")]+")")}Object.keys(l).forEach((function(t){e.style.setProperty(t,l[t])}))}}}]),t}();Object(n.a)(d,"loadBuilder",(function(t,e){t.dpDebugEn&&console.log("builder config:",t);var i=new URL(window.location),o=t.queryParamsDefs,r=d.getDpUrlParam("dp_qp_tour_id",o,i),n=d.getDpUrlParam("dp_qpb_create_new",o,i),a=d.getDpUrlParam("dp_qpb_builder_mode",o,i);if(t.tours&&t.tours.length||"3"===a){var s=h({},t);delete s.tours,s.builderOrigin=d.getDpUrlParam("dp_qpb_builder_origin",o,i),s.builderMode=a,s.originHashId=d.getDpUrlParam("dp_qpb_origin_el_id",o,i),s.triggerId=d.getDpUrlParam("dp_qp_trigger_id",o,i)||0,s.initState=d.getDpUrlParam("dp_qpb_init_state",o,i),s.inNewWindow="1"===d.getDpUrlParam("dp_qpb_in_new_window",o,i),s.mobileAltStepMode=d.getDpUrlParam("dp_qpb_mobile_alt_step_mode",o,i);var l="mobile_menu"===s.mobileAltStepMode?500:0;setTimeout((function(){"3"===a?e(s,null):t.tours.forEach((function(t){(n&&t.createNew||t.tourId==r)&&e(s,t)}))}),l)}}))},9:function(t,e,i){"use strict";function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}i.d(e,"a",(function(){return o}))}},[[131,0,1]]]);
//# sourceMappingURL=dpit-public-9109e43b.js.map