{"version":3,"sources":["webpack:///./includes/assets/js/modules/DPColors.js","webpack:///./includes/assets/js/modules/AdminThemeColors.js"],"names":["DPColors","config","_classCallCheck","dpDebugEn","console","log","_createClass","key","value","srcColor","preferWhiteText","arguments","length","undefined","resColorsPossibilities","fallBackContrastThreshold","resColorsFallback","contrasts","forEach","color","colorObj","Color","push","contrast","sort","a","b","srcColorsObj","rgbIdx","res","colorsObj","_toConsumableArray","compareColorsByRgbHue","_defineProperty","red","green","blue","rgb","Math","min","max","getRgbHueFeature","AdminThemeColors","adminColors","rootSelector","colors","jRootDiv","jQuery","adminColorsObj","i","colorIdx","adminColor","style","setProperty","concat","bgAccent","lightness","textColor","getContrastColor","addRgbVars","getMostColor","rgbFeatureThresh","rgbDefaults","index","indexOf","splice"],"mappings":"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","file":"main/AdminThemeColors-ae8aca48.js","sourcesContent":["\r\n\r\nimport Color from 'color';\r\nexport default class DPColors {\r\n\tconstructor(config) {\r\n\t\tif (config.dpDebugEn) console.log('DPColors');\r\n\t}\r\n\t// contrast range: 1 - 21\r\n\tstatic getContrastColor(srcColor, preferWhiteText = true, resColorsPossibilities = ['#fff', '#484848'], fallBackContrastThreshold = 3, resColorsFallback = ['#292929']) {\r\n\t\tconst contrasts = [];\r\n\t\tresColorsPossibilities.forEach((color) => {\r\n\t\t\tconst colorObj = Color(color);\r\n\t\t\tcontrasts.push({ color: colorObj, contrast: Color(srcColor).contrast(colorObj) });\r\n\t\t});\r\n\t\tif (contrasts.length) {\r\n\t\t\tif (preferWhiteText) contrasts[0].contrast *= 2.2;\r\n\t\t\telse contrasts[0].contrast *= 1.5;\r\n\t\t\tcontrasts.sort((a, b) => b.contrast - a.contrast);\r\n\t\t\t//console.log(contrasts.map((element) => element.contrast));\r\n\t\t\tif (contrasts[0].contrast < fallBackContrastThreshold) {\r\n\t\t\t\tresColorsFallback.forEach((color) => {\r\n\t\t\t\t\tconst colorObj = Color(color);\r\n\t\t\t\t\tcontrasts.push({ color: colorObj, contrast: Color(srcColor).contrast(colorObj) });\r\n\t\t\t\t});\r\n\t\t\t\tcontrasts.sort((a, b) => b.contrast - a.contrast);\r\n\t\t\t}\r\n\t\t\treturn contrasts[0].color;\r\n\t\t}\r\n\t\treturn resColorsPossibilities[0] ? Color(resColorsPossibilities[0]) : (resColorsFallback[0] ? Color(resColorsFallback[0]) : Color('#fff'));\r\n\t}\r\n\r\n\tstatic getMostColor(srcColorsObj, rgbIdx /*r = red*, g = green, b = blue*/) {\r\n\t\tlet res = null;\r\n\t\tif (srcColorsObj) {\r\n\t\t\tconst colorsObj = [...srcColorsObj];\r\n\t\t\tcolorsObj.sort((a, b) => DPColors.compareColorsByRgbHue(rgbIdx, a, b));\r\n\t\t\tres = colorsObj[0];\r\n\t\t}\r\n\t\treturn res;\r\n\t}\r\n\r\n\tstatic getRgbHueFeature = (rgbIdx, color) => {\r\n\t\tswitch (rgbIdx) {\r\n\t\t\tcase 'r': return color.red() + (color.red() - color.green()) + (color.red() - color.blue());\r\n\t\t\tcase 'g': return color.green() + (color.green() - color.red()) + (color.green() - color.blue());\r\n\t\t\tcase 'b': return color.blue() + (color.blue() - color.red()) + (color.blue() - color.green());\r\n\t\t}\r\n\t}\r\n\r\n\tstatic getRgbHueAdjustedColor = (rgbIdx, color) => {\r\n\t\tconst addVal = 100;\r\n\t\tswitch (rgbIdx) {\r\n\t\t\tcase 'r': return Color.rgb(Math.min(color.red() + addVal, 255), Math.max(color.green() - addVal, 0), Math.max(color.blue() - addVal, 0));\r\n\t\t\tcase 'g': return Color.rgb(Math.max(color.red() - addVal, 0), Math.min(color.green() + addVal, 255), Math.max(color.blue() - addVal, 0));\r\n\t\t\tcase 'b': return Color.rgb(Math.max(color.red() - addVal, 0), Math.max(color.green() - addVal, 0), Math.min(color.blue() + addVal, 255));\r\n\t\t}\r\n\t}\r\n\r\n\tstatic compareColorsByRgbHue = (rgbIdx, a, b) => {\r\n\t\treturn DPColors.getRgbHueFeature(rgbIdx, b) - DPColors.getRgbHueFeature(rgbIdx, a);\r\n\t}\r\n}","import Color from 'color';\r\nimport DPColors from './DPColors';\r\n\r\nexport default class AdminThemeColors {\r\n\tconstructor(config) {\r\n\t\tif (config.dpDebugEn) console.log('AdminThemeColors');\r\n\t\tif (config.adminColors && config.adminColors.rootSelector && config.adminColors.colors && config.adminColors.colors.length >= 3) {\r\n\t\t\tconst jRootDiv = jQuery(config.adminColors.rootSelector);\r\n\t\t\tif (jRootDiv && jRootDiv.length) {\r\n\t\t\t\tconst adminColorsObj = [];\r\n\t\t\t\tfor (let i = 0; i < 4; i++) {\r\n\t\t\t\t\tconst colorIdx = i + 1;\r\n\t\t\t\t\tif (config.adminColors.colors[i]) {\r\n\t\t\t\t\t\tconst adminColor = Color.rgb(config.adminColors.colors[i]);\r\n\t\t\t\t\t\tif (adminColor) {\r\n\t\t\t\t\t\t\tadminColorsObj.push(adminColor);\r\n\t\t\t\t\t\t\tjRootDiv[0].style.setProperty(`--dpu-color-${colorIdx}`, `${adminColor.red()}, ${adminColor.green()}, ${adminColor.blue()}`);\r\n\t\t\t\t\t\t\tif (colorIdx === 1) {\r\n\t\t\t\t\t\t\t\tconst bgAccent = adminColor.lightness(95);\r\n\t\t\t\t\t\t\t\tjRootDiv[0].style.setProperty(`--dpu-color-${colorIdx}-light`, `${bgAccent.red()}, ${bgAccent.green()}, ${bgAccent.blue()}`);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tconst textColor = DPColors.getContrastColor(config.adminColors.colors[i]);\r\n\t\t\t\t\t\t\tjRootDiv[0].style.setProperty(`--dpu-color-${colorIdx}-text`, `${textColor.red()}, ${textColor.green()}, ${textColor.blue()}`);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif (adminColorsObj && config.adminColors.addRgbVars) {\r\n\t\t\t\t\t['r', 'b', 'g'].forEach((rgbIdx) => {\r\n\t\t\t\t\t\tlet color = DPColors.getMostColor(adminColorsObj, rgbIdx);\r\n\t\t\t\t\t\tif (config.adminColors.rgbFeatureThresh && config.adminColors.rgbDefaults && config.adminColors.rgbDefaults[rgbIdx]) {\r\n\t\t\t\t\t\t\tconst feature = DPColors.getRgbHueFeature(rgbIdx, color);\r\n\t\t\t\t\t\t\t//console.log('Color: ', color, 'RGB:', rgbIdx, 'Feature:', feature);\r\n\t\t\t\t\t\t\tif (feature < config.adminColors.rgbFeatureThresh) {\r\n\t\t\t\t\t\t\t\t/*if (rgbIdx !== 'r') color = DPColors.getRgbHueAdjustedColor(rgbIdx, color);\r\n\t\t\t\t\t\t\t\telse color = Color(config.adminColors.rgbDefaults[rgbIdx]);*/\r\n\t\t\t\t\t\t\t\t//color = Color(config.adminColors.rgbDefaults[rgbIdx]);\r\n\t\t\t\t\t\t\t\tcolor = Color(config.adminColors.rgbDefaults[rgbIdx]);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tjRootDiv[0].style.setProperty(`--dpu-color-${rgbIdx}`, `${color.red()}, ${color.green()}, ${color.blue()}`);\r\n\t\t\t\t\t\tconst textColor = DPColors.getContrastColor(color);\r\n\t\t\t\t\t\tjRootDiv[0].style.setProperty(`--dpu-color-${rgbIdx}-text`, `${textColor.red()}, ${textColor.green()}, ${textColor.blue()}`);\r\n\t\t\t\t\t\tconst index = adminColorsObj.indexOf(color);\r\n\t\t\t\t\t\tif (index !== -1) {\r\n\t\t\t\t\t\t\tadminColorsObj.splice(index, 1);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n"],"sourceRoot":""}